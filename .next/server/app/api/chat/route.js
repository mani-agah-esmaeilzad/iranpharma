"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chat/route";
exports.ids = ["app/api/chat/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=C%3A%5CUsers%5CASUS%5CDesktop%5Ciranpharma-nextjs%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CASUS%5CDesktop%5Ciranpharma-nextjs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=C%3A%5CUsers%5CASUS%5CDesktop%5Ciranpharma-nextjs%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CASUS%5CDesktop%5Ciranpharma-nextjs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_ASUS_Desktop_iranpharma_nextjs_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/chat/route.ts */ \"(rsc)/./src/app/api/chat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chat/route\",\n        pathname: \"/api/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/chat/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\iranpharma-nextjs\\\\src\\\\app\\\\api\\\\chat\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_ASUS_Desktop_iranpharma_nextjs_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/chat/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjaGF0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZjaGF0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY2hhdCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNBU1VTJTVDRGVza3RvcCU1Q2lyYW5waGFybWEtbmV4dGpzJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNBU1VTJTVDRGVza3RvcCU1Q2lyYW5waGFybWEtbmV4dGpzJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUMwQjtBQUN2RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2lyYW5waGFybWEtbmV4dGpzLz8yZmJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXEFTVVNcXFxcRGVza3RvcFxcXFxpcmFucGhhcm1hLW5leHRqc1xcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxjaGF0XFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jaGF0L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvY2hhdFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvY2hhdC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXEFTVVNcXFxcRGVza3RvcFxcXFxpcmFucGhhcm1hLW5leHRqc1xcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxjaGF0XFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9jaGF0L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=C%3A%5CUsers%5CASUS%5CDesktop%5Ciranpharma-nextjs%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CASUS%5CDesktop%5Ciranpharma-nextjs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/chat/route.ts":
/*!***********************************!*\
  !*** ./src/app/api/chat/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_services_gemini__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/services/gemini */ \"(rsc)/./src/lib/services/gemini.ts\");\n/* harmony import */ var _lib_services_chatHistory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/services/chatHistory */ \"(rsc)/./src/lib/services/chatHistory.ts\");\n\n\n\nasync function POST(request) {\n    try {\n        const { message, sessionId } = await request.json();\n        if (!message || typeof message !== \"string\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Message is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Generate unique IDs for messages\n        const userMessageId = `user_${Date.now()}`;\n        const botMessageId = `bot_${Date.now() + 1}`;\n        // Create user message object\n        const userMessage = {\n            id: userMessageId,\n            text: message,\n            isBot: false,\n            timestamp: new Date().toISOString(),\n            sessionId: sessionId || \"anonymous\"\n        };\n        // Save user message to history\n        await (0,_lib_services_chatHistory__WEBPACK_IMPORTED_MODULE_2__.addMessageToHistory)(userMessage);\n        // Generate bot response using Gemini\n        const botResponseText = await (0,_lib_services_gemini__WEBPACK_IMPORTED_MODULE_1__.generateChatResponse)(message);\n        // Create bot message object\n        const botMessage = {\n            id: botMessageId,\n            text: botResponseText,\n            isBot: true,\n            timestamp: new Date().toISOString(),\n            sessionId: sessionId || \"anonymous\"\n        };\n        // Save bot response to history\n        await (0,_lib_services_chatHistory__WEBPACK_IMPORTED_MODULE_2__.addMessageToHistory)(botMessage);\n        // Return the bot response\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            response: botResponseText,\n            messageId: botMessageId,\n            timestamp: botMessage.timestamp\n        });\n    } catch (error) {\n        console.error(\"Error in chat API:\", error);\n        // Return fallback response\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            response: \"متأسفم، در حال حاضر مشکلی در سرور وجود دارد. لطفاً با میز راهنمایی در ورودی نمایشگاه تماس بگیرید یا کمی بعد دوباره تلاش کنید.\",\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// GET endpoint to retrieve chat statistics (optional)\nasync function GET(request) {\n    try {\n        const { getTotalMessageCount } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/services/chatHistory */ \"(rsc)/./src/lib/services/chatHistory.ts\"));\n        const totalMessages = await getTotalMessageCount();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            statistics: {\n                totalMessages,\n                lastUpdated: new Date().toISOString()\n            }\n        });\n    } catch (error) {\n        console.error(\"Error getting chat statistics:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to get statistics\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9jaGF0L3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXdEO0FBQ0s7QUFDc0I7QUFFNUUsZUFBZUcsS0FBS0MsT0FBb0I7SUFDN0MsSUFBSTtRQUNGLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxTQUFTLEVBQUUsR0FBRyxNQUFNRixRQUFRRyxJQUFJO1FBRWpELElBQUksQ0FBQ0YsV0FBVyxPQUFPQSxZQUFZLFVBQVU7WUFDM0MsT0FBT0wscURBQVlBLENBQUNPLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87WUFBc0IsR0FDL0I7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLG1DQUFtQztRQUNuQyxNQUFNQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUVDLEtBQUtDLEdBQUcsR0FBRyxDQUFDO1FBQzFDLE1BQU1DLGVBQWUsQ0FBQyxJQUFJLEVBQUVGLEtBQUtDLEdBQUcsS0FBSyxFQUFFLENBQUM7UUFFNUMsNkJBQTZCO1FBQzdCLE1BQU1FLGNBQTJCO1lBQy9CQyxJQUFJTDtZQUNKTSxNQUFNWDtZQUNOWSxPQUFPO1lBQ1BDLFdBQVcsSUFBSVAsT0FBT1EsV0FBVztZQUNqQ2IsV0FBV0EsYUFBYTtRQUMxQjtRQUVBLCtCQUErQjtRQUMvQixNQUFNSiw4RUFBbUJBLENBQUNZO1FBRTFCLHFDQUFxQztRQUNyQyxNQUFNTSxrQkFBa0IsTUFBTW5CLDBFQUFvQkEsQ0FBQ0k7UUFFbkQsNEJBQTRCO1FBQzVCLE1BQU1nQixhQUEwQjtZQUM5Qk4sSUFBSUY7WUFDSkcsTUFBTUk7WUFDTkgsT0FBTztZQUNQQyxXQUFXLElBQUlQLE9BQU9RLFdBQVc7WUFDakNiLFdBQVdBLGFBQWE7UUFDMUI7UUFFQSwrQkFBK0I7UUFDL0IsTUFBTUosOEVBQW1CQSxDQUFDbUI7UUFFMUIsMEJBQTBCO1FBQzFCLE9BQU9yQixxREFBWUEsQ0FBQ08sSUFBSSxDQUFDO1lBQ3ZCZSxTQUFTO1lBQ1RDLFVBQVVIO1lBQ1ZJLFdBQVdYO1lBQ1hLLFdBQVdHLFdBQVdILFNBQVM7UUFDakM7SUFFRixFQUFFLE9BQU9WLE9BQU87UUFDZGlCLFFBQVFqQixLQUFLLENBQUMsc0JBQXNCQTtRQUVwQywyQkFBMkI7UUFDM0IsT0FBT1IscURBQVlBLENBQUNPLElBQUksQ0FBQztZQUN2QmUsU0FBUztZQUNUQyxVQUFVO1lBQ1ZmLE9BQU87UUFDVCxHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUNuQjtBQUNGO0FBRUEsc0RBQXNEO0FBQy9DLGVBQWVpQixJQUFJdEIsT0FBb0I7SUFDNUMsSUFBSTtRQUNGLE1BQU0sRUFBRXVCLG9CQUFvQixFQUFFLEdBQUcsTUFBTSxpS0FBTztRQUM5QyxNQUFNQyxnQkFBZ0IsTUFBTUQ7UUFFNUIsT0FBTzNCLHFEQUFZQSxDQUFDTyxJQUFJLENBQUM7WUFDdkJlLFNBQVM7WUFDVE8sWUFBWTtnQkFDVkQ7Z0JBQ0FFLGFBQWEsSUFBSW5CLE9BQU9RLFdBQVc7WUFDckM7UUFDRjtJQUNGLEVBQUUsT0FBT1gsT0FBTztRQUNkaUIsUUFBUWpCLEtBQUssQ0FBQyxrQ0FBa0NBO1FBQ2hELE9BQU9SLHFEQUFZQSxDQUFDTyxJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBMkIsR0FDcEM7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pcmFucGhhcm1hLW5leHRqcy8uL3NyYy9hcHAvYXBpL2NoYXQvcm91dGUudHM/NDZiNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgeyBnZW5lcmF0ZUNoYXRSZXNwb25zZSB9IGZyb20gJ0AvbGliL3NlcnZpY2VzL2dlbWluaSc7XHJcbmltcG9ydCB7IGFkZE1lc3NhZ2VUb0hpc3RvcnksIHR5cGUgQ2hhdE1lc3NhZ2UgfSBmcm9tICdAL2xpYi9zZXJ2aWNlcy9jaGF0SGlzdG9yeSc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IG1lc3NhZ2UsIHNlc3Npb25JZCB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcblxyXG4gICAgaWYgKCFtZXNzYWdlIHx8IHR5cGVvZiBtZXNzYWdlICE9PSAnc3RyaW5nJykge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ01lc3NhZ2UgaXMgcmVxdWlyZWQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2VuZXJhdGUgdW5pcXVlIElEcyBmb3IgbWVzc2FnZXNcclxuICAgIGNvbnN0IHVzZXJNZXNzYWdlSWQgPSBgdXNlcl8ke0RhdGUubm93KCl9YDtcclxuICAgIGNvbnN0IGJvdE1lc3NhZ2VJZCA9IGBib3RfJHtEYXRlLm5vdygpICsgMX1gO1xyXG5cclxuICAgIC8vIENyZWF0ZSB1c2VyIG1lc3NhZ2Ugb2JqZWN0XHJcbiAgICBjb25zdCB1c2VyTWVzc2FnZTogQ2hhdE1lc3NhZ2UgPSB7XHJcbiAgICAgIGlkOiB1c2VyTWVzc2FnZUlkLFxyXG4gICAgICB0ZXh0OiBtZXNzYWdlLFxyXG4gICAgICBpc0JvdDogZmFsc2UsXHJcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCB8fCAnYW5vbnltb3VzJ1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBTYXZlIHVzZXIgbWVzc2FnZSB0byBoaXN0b3J5XHJcbiAgICBhd2FpdCBhZGRNZXNzYWdlVG9IaXN0b3J5KHVzZXJNZXNzYWdlKTtcclxuXHJcbiAgICAvLyBHZW5lcmF0ZSBib3QgcmVzcG9uc2UgdXNpbmcgR2VtaW5pXHJcbiAgICBjb25zdCBib3RSZXNwb25zZVRleHQgPSBhd2FpdCBnZW5lcmF0ZUNoYXRSZXNwb25zZShtZXNzYWdlKTtcclxuXHJcbiAgICAvLyBDcmVhdGUgYm90IG1lc3NhZ2Ugb2JqZWN0XHJcbiAgICBjb25zdCBib3RNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcclxuICAgICAgaWQ6IGJvdE1lc3NhZ2VJZCxcclxuICAgICAgdGV4dDogYm90UmVzcG9uc2VUZXh0LFxyXG4gICAgICBpc0JvdDogdHJ1ZSxcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkIHx8ICdhbm9ueW1vdXMnXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFNhdmUgYm90IHJlc3BvbnNlIHRvIGhpc3RvcnlcclxuICAgIGF3YWl0IGFkZE1lc3NhZ2VUb0hpc3RvcnkoYm90TWVzc2FnZSk7XHJcblxyXG4gICAgLy8gUmV0dXJuIHRoZSBib3QgcmVzcG9uc2VcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIHJlc3BvbnNlOiBib3RSZXNwb25zZVRleHQsXHJcbiAgICAgIG1lc3NhZ2VJZDogYm90TWVzc2FnZUlkLFxyXG4gICAgICB0aW1lc3RhbXA6IGJvdE1lc3NhZ2UudGltZXN0YW1wXHJcbiAgICB9KTtcclxuXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGNoYXQgQVBJOicsIGVycm9yKTtcclxuICAgIFxyXG4gICAgLy8gUmV0dXJuIGZhbGxiYWNrIHJlc3BvbnNlXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgcmVzcG9uc2U6ICfZhdiq2KPYs9mB2YXYjCDYr9ixINit2KfZhCDYrdin2LbYsSDZhdi02qnZhNuMINiv2LEg2LPYsdmI2LEg2YjYrNmI2K8g2K/Yp9ix2K8uINmE2LfZgdin2Ysg2KjYpyDZhduM2LIg2LHYp9mH2YbZhdin24zbjCDYr9ixINmI2LHZiNiv24wg2YbZhdin24zYtNqv2KfZhyDYqtmF2KfYsyDYqNqv24zYsduM2K8g24zYpyDaqdmF24wg2KjYudivINiv2YjYqNin2LHZhyDYqtmE2KfYtCDaqdmG24zYry4nLFxyXG4gICAgICBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcidcclxuICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBHRVQgZW5kcG9pbnQgdG8gcmV0cmlldmUgY2hhdCBzdGF0aXN0aWNzIChvcHRpb25hbClcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGdldFRvdGFsTWVzc2FnZUNvdW50IH0gPSBhd2FpdCBpbXBvcnQoJ0AvbGliL3NlcnZpY2VzL2NoYXRIaXN0b3J5Jyk7XHJcbiAgICBjb25zdCB0b3RhbE1lc3NhZ2VzID0gYXdhaXQgZ2V0VG90YWxNZXNzYWdlQ291bnQoKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgc3RhdGlzdGljczoge1xyXG4gICAgICAgIHRvdGFsTWVzc2FnZXMsXHJcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBjaGF0IHN0YXRpc3RpY3M6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGdldCBzdGF0aXN0aWNzJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJnZW5lcmF0ZUNoYXRSZXNwb25zZSIsImFkZE1lc3NhZ2VUb0hpc3RvcnkiLCJQT1NUIiwicmVxdWVzdCIsIm1lc3NhZ2UiLCJzZXNzaW9uSWQiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJ1c2VyTWVzc2FnZUlkIiwiRGF0ZSIsIm5vdyIsImJvdE1lc3NhZ2VJZCIsInVzZXJNZXNzYWdlIiwiaWQiLCJ0ZXh0IiwiaXNCb3QiLCJ0aW1lc3RhbXAiLCJ0b0lTT1N0cmluZyIsImJvdFJlc3BvbnNlVGV4dCIsImJvdE1lc3NhZ2UiLCJzdWNjZXNzIiwicmVzcG9uc2UiLCJtZXNzYWdlSWQiLCJjb25zb2xlIiwiR0VUIiwiZ2V0VG90YWxNZXNzYWdlQ291bnQiLCJ0b3RhbE1lc3NhZ2VzIiwic3RhdGlzdGljcyIsImxhc3RVcGRhdGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/chat/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/services/chatHistory.ts":
/*!*****************************************!*\
  !*** ./src/lib/services/chatHistory.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addMessageToHistory: () => (/* binding */ addMessageToHistory),\n/* harmony export */   clearChatHistory: () => (/* binding */ clearChatHistory),\n/* harmony export */   getRecentMessages: () => (/* binding */ getRecentMessages),\n/* harmony export */   getTotalMessageCount: () => (/* binding */ getTotalMessageCount),\n/* harmony export */   readChatHistory: () => (/* binding */ readChatHistory),\n/* harmony export */   saveChatHistory: () => (/* binding */ saveChatHistory)\n/* harmony export */ });\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst CHAT_HISTORY_PATH = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\", \"chat-history.json\");\n// Ensure data directory exists\nasync function ensureDataDirectory() {\n    const dataDir = path__WEBPACK_IMPORTED_MODULE_1___default().dirname(CHAT_HISTORY_PATH);\n    try {\n        await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().access(dataDir);\n    } catch  {\n        await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().mkdir(dataDir, {\n            recursive: true\n        });\n    }\n}\n// Read chat history from JSON file\nasync function readChatHistory() {\n    try {\n        await ensureDataDirectory();\n        const data = await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().readFile(CHAT_HISTORY_PATH, \"utf-8\");\n        return JSON.parse(data);\n    } catch (error) {\n        // If file doesn't exist, return default structure\n        const defaultHistory = {\n            conversations: [],\n            lastUpdated: null,\n            totalMessages: 0\n        };\n        await saveChatHistory(defaultHistory);\n        return defaultHistory;\n    }\n}\n// Save chat history to JSON file\nasync function saveChatHistory(history) {\n    try {\n        await ensureDataDirectory();\n        history.lastUpdated = new Date().toISOString();\n        await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().writeFile(CHAT_HISTORY_PATH, JSON.stringify(history, null, 2), \"utf-8\");\n    } catch (error) {\n        console.error(\"Error saving chat history:\", error);\n        throw error;\n    }\n}\n// Add new message to history\nasync function addMessageToHistory(message) {\n    try {\n        const history = await readChatHistory();\n        // Add the new message\n        history.conversations.push(message);\n        history.totalMessages = history.conversations.length;\n        // Keep only last 1000 messages to prevent file from growing too large\n        if (history.conversations.length > 1000) {\n            history.conversations = history.conversations.slice(-1000);\n        }\n        await saveChatHistory(history);\n    } catch (error) {\n        console.error(\"Error adding message to history:\", error);\n        throw error;\n    }\n}\n// Get recent messages for context (last 20 messages)\nasync function getRecentMessages(limit = 20) {\n    try {\n        const history = await readChatHistory();\n        return history.conversations.slice(-limit);\n    } catch (error) {\n        console.error(\"Error getting recent messages:\", error);\n        return [];\n    }\n}\n// Get total message count\nasync function getTotalMessageCount() {\n    try {\n        const history = await readChatHistory();\n        return history.totalMessages;\n    } catch (error) {\n        console.error(\"Error getting message count:\", error);\n        return 0;\n    }\n}\n// Clear chat history (for admin purposes)\nasync function clearChatHistory() {\n    try {\n        const emptyHistory = {\n            conversations: [],\n            lastUpdated: new Date().toISOString(),\n            totalMessages: 0\n        };\n        await saveChatHistory(emptyHistory);\n    } catch (error) {\n        console.error(\"Error clearing chat history:\", error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aWIvc2VydmljZXMvY2hhdEhpc3RvcnkudHM/ZmVhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMvcHJvbWlzZXMnO1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdE1lc3NhZ2Uge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGV4dDogc3RyaW5nO1xyXG4gIGlzQm90OiBib29sZWFuO1xyXG4gIHRpbWVzdGFtcDogc3RyaW5nO1xyXG4gIHNlc3Npb25JZD86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDaGF0SGlzdG9yeSB7XHJcbiAgY29udmVyc2F0aW9uczogQ2hhdE1lc3NhZ2VbXTtcclxuICBsYXN0VXBkYXRlZDogc3RyaW5nIHwgbnVsbDtcclxuICB0b3RhbE1lc3NhZ2VzOiBudW1iZXI7XHJcbn1cclxuXHJcbmNvbnN0IENIQVRfSElTVE9SWV9QQVRIID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdkYXRhJywgJ2NoYXQtaGlzdG9yeS5qc29uJyk7XHJcblxyXG4vLyBFbnN1cmUgZGF0YSBkaXJlY3RvcnkgZXhpc3RzXHJcbmFzeW5jIGZ1bmN0aW9uIGVuc3VyZURhdGFEaXJlY3RvcnkoKSB7XHJcbiAgY29uc3QgZGF0YURpciA9IHBhdGguZGlybmFtZShDSEFUX0hJU1RPUllfUEFUSCk7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IGZzLmFjY2VzcyhkYXRhRGlyKTtcclxuICB9IGNhdGNoIHtcclxuICAgIGF3YWl0IGZzLm1rZGlyKGRhdGFEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLy8gUmVhZCBjaGF0IGhpc3RvcnkgZnJvbSBKU09OIGZpbGVcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlYWRDaGF0SGlzdG9yeSgpOiBQcm9taXNlPENoYXRIaXN0b3J5PiB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IGVuc3VyZURhdGFEaXJlY3RvcnkoKTtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmcy5yZWFkRmlsZShDSEFUX0hJU1RPUllfUEFUSCwgJ3V0Zi04Jyk7XHJcbiAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgLy8gSWYgZmlsZSBkb2Vzbid0IGV4aXN0LCByZXR1cm4gZGVmYXVsdCBzdHJ1Y3R1cmVcclxuICAgIGNvbnN0IGRlZmF1bHRIaXN0b3J5OiBDaGF0SGlzdG9yeSA9IHtcclxuICAgICAgY29udmVyc2F0aW9uczogW10sXHJcbiAgICAgIGxhc3RVcGRhdGVkOiBudWxsLFxyXG4gICAgICB0b3RhbE1lc3NhZ2VzOiAwXHJcbiAgICB9O1xyXG4gICAgYXdhaXQgc2F2ZUNoYXRIaXN0b3J5KGRlZmF1bHRIaXN0b3J5KTtcclxuICAgIHJldHVybiBkZWZhdWx0SGlzdG9yeTtcclxuICB9XHJcbn1cclxuXHJcbi8vIFNhdmUgY2hhdCBoaXN0b3J5IHRvIEpTT04gZmlsZVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZUNoYXRIaXN0b3J5KGhpc3Rvcnk6IENoYXRIaXN0b3J5KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IGVuc3VyZURhdGFEaXJlY3RvcnkoKTtcclxuICAgIGhpc3RvcnkubGFzdFVwZGF0ZWQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICBhd2FpdCBmcy53cml0ZUZpbGUoQ0hBVF9ISVNUT1JZX1BBVEgsIEpTT04uc3RyaW5naWZ5KGhpc3RvcnksIG51bGwsIDIpLCAndXRmLTgnKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGNoYXQgaGlzdG9yeTonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbi8vIEFkZCBuZXcgbWVzc2FnZSB0byBoaXN0b3J5XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRNZXNzYWdlVG9IaXN0b3J5KG1lc3NhZ2U6IENoYXRNZXNzYWdlKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGhpc3RvcnkgPSBhd2FpdCByZWFkQ2hhdEhpc3RvcnkoKTtcclxuICAgIFxyXG4gICAgLy8gQWRkIHRoZSBuZXcgbWVzc2FnZVxyXG4gICAgaGlzdG9yeS5jb252ZXJzYXRpb25zLnB1c2gobWVzc2FnZSk7XHJcbiAgICBoaXN0b3J5LnRvdGFsTWVzc2FnZXMgPSBoaXN0b3J5LmNvbnZlcnNhdGlvbnMubGVuZ3RoO1xyXG4gICAgXHJcbiAgICAvLyBLZWVwIG9ubHkgbGFzdCAxMDAwIG1lc3NhZ2VzIHRvIHByZXZlbnQgZmlsZSBmcm9tIGdyb3dpbmcgdG9vIGxhcmdlXHJcbiAgICBpZiAoaGlzdG9yeS5jb252ZXJzYXRpb25zLmxlbmd0aCA+IDEwMDApIHtcclxuICAgICAgaGlzdG9yeS5jb252ZXJzYXRpb25zID0gaGlzdG9yeS5jb252ZXJzYXRpb25zLnNsaWNlKC0xMDAwKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgYXdhaXQgc2F2ZUNoYXRIaXN0b3J5KGhpc3RvcnkpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgbWVzc2FnZSB0byBoaXN0b3J5OicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuLy8gR2V0IHJlY2VudCBtZXNzYWdlcyBmb3IgY29udGV4dCAobGFzdCAyMCBtZXNzYWdlcylcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlY2VudE1lc3NhZ2VzKGxpbWl0OiBudW1iZXIgPSAyMCk6IFByb21pc2U8Q2hhdE1lc3NhZ2VbXT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBoaXN0b3J5ID0gYXdhaXQgcmVhZENoYXRIaXN0b3J5KCk7XHJcbiAgICByZXR1cm4gaGlzdG9yeS5jb252ZXJzYXRpb25zLnNsaWNlKC1saW1pdCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgcmVjZW50IG1lc3NhZ2VzOicsIGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEdldCB0b3RhbCBtZXNzYWdlIGNvdW50XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUb3RhbE1lc3NhZ2VDb3VudCgpOiBQcm9taXNlPG51bWJlcj4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBoaXN0b3J5ID0gYXdhaXQgcmVhZENoYXRIaXN0b3J5KCk7XHJcbiAgICByZXR1cm4gaGlzdG9yeS50b3RhbE1lc3NhZ2VzO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIG1lc3NhZ2UgY291bnQ6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDbGVhciBjaGF0IGhpc3RvcnkgKGZvciBhZG1pbiBwdXJwb3NlcylcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsZWFyQ2hhdEhpc3RvcnkoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGVtcHR5SGlzdG9yeTogQ2hhdEhpc3RvcnkgPSB7XHJcbiAgICAgIGNvbnZlcnNhdGlvbnM6IFtdLFxyXG4gICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICB0b3RhbE1lc3NhZ2VzOiAwXHJcbiAgICB9O1xyXG4gICAgYXdhaXQgc2F2ZUNoYXRIaXN0b3J5KGVtcHR5SGlzdG9yeSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNsZWFyaW5nIGNoYXQgaGlzdG9yeTonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImZzIiwicGF0aCIsIkNIQVRfSElTVE9SWV9QQVRIIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJlbnN1cmVEYXRhRGlyZWN0b3J5IiwiZGF0YURpciIsImRpcm5hbWUiLCJhY2Nlc3MiLCJta2RpciIsInJlY3Vyc2l2ZSIsInJlYWRDaGF0SGlzdG9yeSIsImRhdGEiLCJyZWFkRmlsZSIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwiZGVmYXVsdEhpc3RvcnkiLCJjb252ZXJzYXRpb25zIiwibGFzdFVwZGF0ZWQiLCJ0b3RhbE1lc3NhZ2VzIiwic2F2ZUNoYXRIaXN0b3J5IiwiaGlzdG9yeSIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIndyaXRlRmlsZSIsInN0cmluZ2lmeSIsImNvbnNvbGUiLCJhZGRNZXNzYWdlVG9IaXN0b3J5IiwibWVzc2FnZSIsInB1c2giLCJsZW5ndGgiLCJzbGljZSIsImdldFJlY2VudE1lc3NhZ2VzIiwibGltaXQiLCJnZXRUb3RhbE1lc3NhZ2VDb3VudCIsImNsZWFyQ2hhdEhpc3RvcnkiLCJlbXB0eUhpc3RvcnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/services/chatHistory.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/services/gemini.ts":
/*!************************************!*\
  !*** ./src/lib/services/gemini.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateChatResponse: () => (/* binding */ generateChatResponse)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n\n// Allow running without API key - will use fallback responses\nif (!process.env.GEMINI_API_KEY) {\n    console.warn(\"GEMINI_API_KEY is not set - using fallback responses\");\n}\nconst genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(process.env.GEMINI_API_KEY);\n// Gemini Pro model (globally supported)\nconst model = genAI.getGenerativeModel({\n    model: \"gemini-2.5-flash\"\n});\nconst IRANPHARMA_SYSTEM_PROMPT = `\r\nشما دستیار هوشمند نمایشگاه ایران فارما هستید. نمایشگاهی با موضوع \"پایداری، تاب‌آوری و نوآوری در زنجیره تأمین دارو\".\r\n\r\nاطلاعات نمایشگاه:\r\n\r\n**غرفه‌های موجود:**\r\n- شرکت داروسازی اکتوور (غرفه A1): داروهای بیوتکنولوژی، تولید انسولین و واکسن\r\n- گروه داروسازی سبحان (غرفه B2): مکمل‌های غذایی، تحقیق و توسعه  \r\n- داروپخش ایران (غرفه C3): توزیع و لجستیک دارو، زنجیره سرد\r\n- فارمد تجهیزات (غرفه D4): تجهیزات پزشکی، دستگاه‌های تشخیصی\r\n\r\n**ساعات کاری:**\r\n- شنبه تا چهارشنبه: ۹:۰۰ الی ۱۸:۰۰\r\n- پنج‌شنبه: ۹:۰۰ الی ۲۰:۰۰\r\n- ساعات ویژه متخصصان: ۸:۰۰ الی ۹:۰۰ (روزهای زوج)\r\n\r\n**رویدادهای ویژه:**\r\n- سمینارها: ۱۰:۰۰ و ۱۵:۰۰\r\n- میزگردها: ۱۳:۰۰\r\n- سالن کنفرانس: طبقه دوم\r\n\r\n**شرکت‌های حاضر:**\r\nبخش تولید: کیمیا دارو، زهراوی، پارس دارو\r\nبخش فناوری: ایران تک فارما، دیجی فارما  \r\nبخش توزیع: داروپخش رازی، شبکه توزیع پارسیان\r\n\r\n**اطلاعات تماس:**\r\n- تلفن: ۰۲۱-۸۸۷۷۶۶۵۵ (داخلی ۱۲۳)\r\n- میز راهنمایی: طبقه همکف - ورودی اصلی\r\n- ساعت کاری میز راهنمایی: ۸:۰۰ الی ۱۹:۰۰\r\n- واتساپ: ۰۹۱۲۱۲۳۴۵۶۷\r\n- ایمیل: info@iranpharma-expo.ir\r\n\r\nدستورالعمل‌ها:\r\n- همیشه به فارسی پاسخ دهید\r\n- مهربان و مفید باشید\r\n- اطلاعات دقیق و کاربردی ارائه دهید\r\n- از ایموجی استفاده کنید\r\n- اگر سؤال خارج از حوزه نمایشگاه بود، کاربر را به میز راهنمایی هدایت کنید\r\n`;\n// Fallback responses for when Gemini API is not available\nconst fallbackResponses = {\n    \"لیست غرفه‌های موجود در نمایشگاه را با اطلاعات کامل به من نشان دهید.\": \"غرفه‌های موجود در نمایشگاه:\\n\\n\\uD83C\\uDFE2 **شرکت داروسازی اکتوور** - غرفه A1\\n• محصولات: داروهای بیوتکنولوژی\\n• تخصص: تولید انسولین و واکسن\\n\\n\\uD83C\\uDFE2 **گروه داروسازی سبحان** - غرفه B2\\n• محصولات: مکمل‌های غذایی\\n• تخصص: تحقیق و توسعه\\n\\n\\uD83C\\uDFE2 **داروپخش ایران** - غرفه C3\\n• خدمات: توزیع و لجستیک دارو\\n• تخصص: زنجیره سرد\\n\\n\\uD83C\\uDFE2 **فارمد تجهیزات** - غرفه D4\\n• محصولات: تجهیزات پزشکی\\n• تخصص: دستگاه‌های تشخیصی\",\n    \"ساعات کاری و زمان‌بندی نمایشگاه چگونه است؟\": \"\\uD83D\\uDCC5 **برنامه زمانی نمایشگاه:**\\n\\n\\uD83D\\uDD58 **ساعات بازدید عمومی:**\\n• شنبه تا چهارشنبه: ۹:۰۰ الی ۱۸:۰۰\\n• پنج‌شنبه: ۹:۰۰ الی ۲۰:۰۰\\n\\n\\uD83C\\uDFAF **ساعات ویژه متخصصان:**\\n• روزهای زوج: ۸:۰۰ الی ۹:۰۰\\n\\n⏰ **رویدادهای ویژه:**\\n• سمینارها: ۱۰:۰۰ و ۱۵:۰۰\\n• میزگردها: ۱۳:۰۰\",\n    \"کدام شرکت‌ها در نمایشگاه حضور دارند و چه محصولاتی ارائه می‌دهند؟\": \"\\uD83C\\uDFED **شرکت‌های حاضر:**\\n\\n**بخش تولید:**\\n• کیمیا دارو - آنتی‌بیوتیک‌ها\\n• زهراوی - تجهیزات جراحی\\n• پارس دارو - داروهای قلبی عروقی\\n\\n**بخش فناوری:**\\n• ایران تک فارما - سامانه‌های هوشمند\\n• دیجی فارما - پلتفرم دیجیتال\\n\\n**بخش توزیع:**\\n• داروپخش رازی\\n• شبکه توزیع پارسیان\",\n    \"چه رویدادها و سمینارهای ویژه‌ای در نمایشگاه برگزار می‌شود؟\": '\\uD83C\\uDF93 **رویدادهای ویژه:**\\n\\n**امروز:**\\n• ۱۰:۰۰ - سمینار \"نوآوری در داروسازی\"\\n• ۱۳:۰۰ - میزگرد \"زنجیره تأمین پایدار\"\\n• ۱۵:۰۰ - کارگاه \"فناوری‌های نوین\"\\n\\n**فردا:**\\n• ۹:۰۰ - همایش \"تاب‌آوری در بحران\"\\n• ۱۱:۰۰ - نشست \"استانداردهای بین‌المللی\"\\n• ۱۶:۰۰ - ارائه محصولات جدید\\n\\n\\uD83D\\uDCCD **مکان:** سالن کنفرانس طبقه دوم',\n    \"برای دریافت اطلاعات بیشتر و راهنمایی با چه کسی تماس بگیرم؟\": \"\\uD83D\\uDCDE **اطلاعات تماس:**\\n\\n**مرکز اطلاع‌رسانی:**\\n• تلفن: ۰۲۱-۸۸۷۷۶۶۵۵\\n• داخلی: ۱۲۳\\n\\n**میز راهنمایی:**\\n• طبقه همکف - ورودی اصلی\\n• ساعت کاری: ۸:۰۰ الی ۱۹:۰۰\\n\\n**پشتیبانی فنی:**\\n• واتساپ: ۰۹۱۲۱۲۳۴۵۶۷\\n• ایمیل: info@iranpharma-expo.ir\\n\\n\\uD83D\\uDDFA️ **راهنمای نمایشگاه:** در میز پذیرش موجود است\"\n};\nasync function generateChatResponse(userMessage) {\n    // First try Gemini API if API key is configured properly\n    if (process.env.GEMINI_API_KEY && process.env.GEMINI_API_KEY !== \"your_gemini_api_key_here\") {\n        try {\n            const prompt = `${IRANPHARMA_SYSTEM_PROMPT}\r\n\r\nسؤال کاربر: ${userMessage}\r\n\r\nلطفاً پاسخی کامل، مفید و به فارسی ارائه دهید:`;\n            const result = await model.generateContent(prompt);\n            const response = await result.response;\n            const text = response.text();\n            return text;\n        } catch (error) {\n            console.error(\"Error generating response from Gemini, falling back to static responses:\", error);\n        // Fall through to fallback system\n        }\n    }\n    // Fallback to static responses\n    const fallbackResponse = fallbackResponses[userMessage];\n    if (fallbackResponse) {\n        return fallbackResponse;\n    }\n    // Default fallback\n    return \"متأسفم، اطلاعات کاملی در این زمینه ندارم. لطفاً با میز راهنمایی در ورودی نمایشگاه تماس بگیرید یا از پرسش‌های پیشنهادی استفاده کنید.\\n\\n\\uD83D\\uDCDE تماس: ۰۲۱-۸۸۷۷۶۶۵۵ داخلی ۱۲۳\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3NlcnZpY2VzL2dlbWluaS50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUEyRDtBQUUzRCw4REFBOEQ7QUFDOUQsSUFBSSxDQUFDQyxRQUFRQyxHQUFHLENBQUNDLGNBQWMsRUFBRTtJQUMvQkMsUUFBUUMsSUFBSSxDQUFDO0FBQ2Y7QUFFQSxNQUFNQyxRQUFRLElBQUlOLHFFQUFrQkEsQ0FBQ0MsUUFBUUMsR0FBRyxDQUFDQyxjQUFjO0FBRS9ELHdDQUF3QztBQUN4QyxNQUFNSSxRQUFRRCxNQUFNRSxrQkFBa0IsQ0FBQztJQUFFRCxPQUFPO0FBQWtCO0FBQ2xFLE1BQU1FLDJCQUEyQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF1Q2xDLENBQUM7QUFFRCwwREFBMEQ7QUFDMUQsTUFBTUMsb0JBQW9CO0lBQ3hCLHVFQUNFO0lBRUYsOENBQ0U7SUFFRixvRUFDRTtJQUVGLDhEQUNFO0lBRUYsOERBQ0U7QUFDSjtBQUVPLGVBQWVDLHFCQUFxQkMsV0FBbUI7SUFDNUQseURBQXlEO0lBQ3pELElBQUlYLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYyxJQUFJRixRQUFRQyxHQUFHLENBQUNDLGNBQWMsS0FBSyw0QkFBNEI7UUFDM0YsSUFBSTtZQUNGLE1BQU1VLFNBQVMsQ0FBQyxFQUFFSix5QkFBeUI7O1lBRXJDLEVBQUVHLFlBQVk7OzZDQUVtQixDQUFDO1lBRXhDLE1BQU1FLFNBQVMsTUFBTVAsTUFBTVEsZUFBZSxDQUFDRjtZQUMzQyxNQUFNRyxXQUFXLE1BQU1GLE9BQU9FLFFBQVE7WUFDdEMsTUFBTUMsT0FBT0QsU0FBU0MsSUFBSTtZQUUxQixPQUFPQTtRQUNULEVBQUUsT0FBT0MsT0FBTztZQUNkZCxRQUFRYyxLQUFLLENBQUMsNEVBQTRFQTtRQUMxRixrQ0FBa0M7UUFDcEM7SUFDRjtJQUVBLCtCQUErQjtJQUMvQixNQUFNQyxtQkFBbUJULGlCQUFpQixDQUFDRSxZQUE4QztJQUV6RixJQUFJTyxrQkFBa0I7UUFDcEIsT0FBT0E7SUFDVDtJQUVBLG1CQUFtQjtJQUNuQixPQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pcmFucGhhcm1hLW5leHRqcy8uL3NyYy9saWIvc2VydmljZXMvZ2VtaW5pLnRzPzFjNGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR29vZ2xlR2VuZXJhdGl2ZUFJIH0gZnJvbSAnQGdvb2dsZS9nZW5lcmF0aXZlLWFpJztcclxuXHJcbi8vIEFsbG93IHJ1bm5pbmcgd2l0aG91dCBBUEkga2V5IC0gd2lsbCB1c2UgZmFsbGJhY2sgcmVzcG9uc2VzXHJcbmlmICghcHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVkpIHtcclxuICBjb25zb2xlLndhcm4oJ0dFTUlOSV9BUElfS0VZIGlzIG5vdCBzZXQgLSB1c2luZyBmYWxsYmFjayByZXNwb25zZXMnKTtcclxufVxyXG5cclxuY29uc3QgZ2VuQUkgPSBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJKHByb2Nlc3MuZW52LkdFTUlOSV9BUElfS0VZKTtcclxuXHJcbi8vIEdlbWluaSBQcm8gbW9kZWwgKGdsb2JhbGx5IHN1cHBvcnRlZClcclxuY29uc3QgbW9kZWwgPSBnZW5BSS5nZXRHZW5lcmF0aXZlTW9kZWwoeyBtb2RlbDogXCJnZW1pbmktMi41LWZsYXNoXCJ9KVxyXG5jb25zdCBJUkFOUEhBUk1BX1NZU1RFTV9QUk9NUFQgPSBgXHJcbti02YXYpyDYr9iz2KrbjNin2LEg2YfZiNi02YXZhtivINmG2YXYp9uM2LTar9in2Ycg2KfbjNix2KfZhiDZgdin2LHZhdinINmH2LPYqtuM2K8uINmG2YXYp9uM2LTar9in2YfbjCDYqNinINmF2YjYttmI2LkgXCLZvtin24zYr9in2LHbjNiMINiq2KfYqOKAjNii2YjYsduMINmIINmG2YjYotmI2LHbjCDYr9ixINiy2YbYrNuM2LHZhyDYqtij2YXbjNmGINiv2KfYsdmIXCIuXHJcblxyXG7Yp9i32YTYp9i52KfYqiDZhtmF2KfbjNi02q/Yp9mHOlxyXG5cclxuKirYutix2YHZh+KAjNmH2KfbjCDZhdmI2KzZiNivOioqXHJcbi0g2LTYsdqp2Kog2K/Yp9ix2YjYs9in2LLbjCDYp9qp2KrZiNmI2LEgKNi62LHZgdmHIEExKTog2K/Yp9ix2YjZh9in24wg2KjbjNmI2KraqdmG2YjZhNmI2pjbjNiMINiq2YjZhNuM2K8g2KfZhtiz2YjZhNuM2YYg2Ygg2YjYp9qp2LPZhlxyXG4tINqv2LHZiNmHINiv2KfYsdmI2LPYp9iy24wg2LPYqNit2KfZhiAo2LrYsdmB2YcgQjIpOiDZhdqp2YXZhOKAjNmH2KfbjCDYutiw2KfbjNuM2Iwg2KrYrdmC24zZgiDZiCDYqtmI2LPYudmHICBcclxuLSDYr9in2LHZiNm+2K7YtCDYp9uM2LHYp9mGICjYutix2YHZhyBDMyk6INiq2YjYstuM2Lkg2Ygg2YTYrNiz2KrbjNqpINiv2KfYsdmI2Iwg2LLZhtis24zYsdmHINiz2LHYr1xyXG4tINmB2KfYsdmF2K8g2KrYrNmH24zYstin2KogKNi62LHZgdmHIEQ0KTog2KrYrNmH24zYstin2Kog2b7Ysti02qnbjNiMINiv2LPYqtqv2KfZh+KAjNmH2KfbjCDYqti02K7bjNi124xcclxuXHJcbioq2LPYp9i52KfYqiDaqdin2LHbjDoqKlxyXG4tINi02YbYqNmHINiq2Kcg2obZh9in2LHYtNmG2KjZhzog27k627DbsCDYp9mE24wg27HbuDrbsNuwXHJcbi0g2b7Zhtis4oCM2LTZhtio2Yc6INu5Otuw27Ag2KfZhNuMINuy27A627DbsFxyXG4tINiz2KfYudin2Kog2YjbjNqY2Ycg2YXYqtiu2LXYtdin2YY6INu4Otuw27Ag2KfZhNuMINu5Otuw27AgKNix2YjYstmH2KfbjCDYstmI2KwpXHJcblxyXG4qKtix2YjbjNiv2KfYr9mH2KfbjCDZiNuM2pjZhzoqKlxyXG4tINiz2YXbjNmG2KfYsdmH2Kc6INux27A627DbsCDZiCDbsdu1Otuw27BcclxuLSDZhduM2LLar9ix2K/Zh9inOiDbsduzOtuw27BcclxuLSDYs9in2YTZhiDaqdmG2YHYsdin2YbYszog2LfYqNmC2Ycg2K/ZiNmFXHJcblxyXG4qKti02LHaqdiq4oCM2YfYp9uMINit2KfYttixOioqXHJcbtio2K7YtCDYqtmI2YTbjNivOiDaqduM2YXbjNinINiv2KfYsdmI2Iwg2LLZh9ix2KfZiNuM2Iwg2b7Yp9ix2LMg2K/Yp9ix2Yhcclxu2KjYrti0INmB2YbYp9mI2LHbjDog2KfbjNix2KfZhiDYqtqpINmB2KfYsdmF2KfYjCDYr9uM2KzbjCDZgdin2LHZhdinICBcclxu2KjYrti0INiq2YjYstuM2Lk6INiv2KfYsdmI2b7Yrti0INix2KfYstuM2Iwg2LTYqNqp2Ycg2KrZiNiy24zYuSDZvtin2LHYs9uM2KfZhlxyXG5cclxuKirYp9i32YTYp9i52KfYqiDYqtmF2KfYszoqKlxyXG4tINiq2YTZgdmGOiDbsNuy27Et27jbuNu327fbttu227XbtSAo2K/Yp9iu2YTbjCDbsduy27MpXHJcbi0g2YXbjNiyINix2KfZh9mG2YXYp9uM24w6INi32KjZgtmHINmH2YXaqdmBIC0g2YjYsdmI2K/bjCDYp9i12YTbjFxyXG4tINiz2KfYudiqINqp2KfYsduMINmF24zYsiDYsdin2YfZhtmF2KfbjNuMOiDbuDrbsNuwINin2YTbjCDbsdu5Otuw27BcclxuLSDZiNin2KrYs9in2b46INuw27nbsduy27Hbstuz27Tbtdu227dcclxuLSDYp9uM2YXbjNmEOiBpbmZvQGlyYW5waGFybWEtZXhwby5pclxyXG5cclxu2K/Ys9iq2YjYsdin2YTYudmF2YTigIzZh9inOlxyXG4tINmH2YXbjNi02Ycg2KjZhyDZgdin2LHYs9uMINm+2KfYs9iuINiv2YfbjNivXHJcbi0g2YXZh9ix2KjYp9mGINmIINmF2YHbjNivINio2KfYtNuM2K9cclxuLSDYp9i32YTYp9i52KfYqiDYr9mC24zZgiDZiCDaqdin2LHYqNix2K/bjCDYp9ix2KfYptmHINiv2YfbjNivXHJcbi0g2KfYsiDYp9uM2YXZiNis24wg2KfYs9iq2YHYp9iv2Ycg2qnZhtuM2K9cclxuLSDYp9qv2LEg2LPYpNin2YQg2K7Yp9ix2Kwg2KfYsiDYrdmI2LLZhyDZhtmF2KfbjNi02q/Yp9mHINio2YjYr9iMINqp2KfYsdio2LEg2LHYpyDYqNmHINmF24zYsiDYsdin2YfZhtmF2KfbjNuMINmH2K/Yp9uM2Kog2qnZhtuM2K9cclxuYDtcclxuXHJcbi8vIEZhbGxiYWNrIHJlc3BvbnNlcyBmb3Igd2hlbiBHZW1pbmkgQVBJIGlzIG5vdCBhdmFpbGFibGVcclxuY29uc3QgZmFsbGJhY2tSZXNwb25zZXMgPSB7XHJcbiAgXCLZhNuM2LPYqiDYutix2YHZh+KAjNmH2KfbjCDZhdmI2KzZiNivINiv2LEg2YbZhdin24zYtNqv2KfZhyDYsdinINio2Kcg2KfYt9mE2KfYudin2Kog2qnYp9mF2YQg2KjZhyDZhdmGINmG2LTYp9mGINiv2YfbjNivLlwiOiBcclxuICAgIFwi2LrYsdmB2YfigIzZh9in24wg2YXZiNis2YjYryDYr9ixINmG2YXYp9uM2LTar9in2Yc6XFxuXFxu8J+PoiAqKti02LHaqdiqINiv2KfYsdmI2LPYp9iy24wg2Kfaqdiq2YjZiNixKiogLSDYutix2YHZhyBBMVxcbuKAoiDZhdit2LXZiNmE2KfYqjog2K/Yp9ix2YjZh9in24wg2KjbjNmI2KraqdmG2YjZhNmI2pjbjFxcbuKAoiDYqtiu2LXYtTog2KrZiNmE24zYryDYp9mG2LPZiNmE24zZhiDZiCDZiNin2qnYs9mGXFxuXFxu8J+PoiAqKtqv2LHZiNmHINiv2KfYsdmI2LPYp9iy24wg2LPYqNit2KfZhioqIC0g2LrYsdmB2YcgQjJcXG7igKIg2YXYrdi12YjZhNin2Ko6INmF2qnZhdmE4oCM2YfYp9uMINi62LDYp9uM24xcXG7igKIg2KrYrti12LU6INiq2K3ZgtuM2YIg2Ygg2KrZiNiz2LnZh1xcblxcbvCfj6IgKirYr9in2LHZiNm+2K7YtCDYp9uM2LHYp9mGKiogLSDYutix2YHZhyBDM1xcbuKAoiDYrtiv2YXYp9iqOiDYqtmI2LLbjNi5INmIINmE2KzYs9iq24zaqSDYr9in2LHZiFxcbuKAoiDYqtiu2LXYtTog2LLZhtis24zYsdmHINiz2LHYr1xcblxcbvCfj6IgKirZgdin2LHZhdivINiq2KzZh9uM2LLYp9iqKiogLSDYutix2YHZhyBENFxcbuKAoiDZhdit2LXZiNmE2KfYqjog2KrYrNmH24zYstin2Kog2b7Ysti02qnbjFxcbuKAoiDYqtiu2LXYtTog2K/Ys9iq2q/Yp9mH4oCM2YfYp9uMINiq2LTYrtuM2LXbjFwiLFxyXG4gICAgXHJcbiAgXCLYs9in2LnYp9iqINqp2KfYsduMINmIINiy2YXYp9mG4oCM2KjZhtiv24wg2YbZhdin24zYtNqv2KfZhyDahtqv2YjZhtmHINin2LPYqtifXCI6XHJcbiAgICBcIvCfk4UgKirYqNix2YbYp9mF2Ycg2LLZhdin2YbbjCDZhtmF2KfbjNi02q/Yp9mHOioqXFxuXFxu8J+VmCAqKtiz2KfYudin2Kog2KjYp9iy2K/bjNivINi52YXZiNmF24w6KipcXG7igKIg2LTZhtio2Ycg2KrYpyDahtmH2KfYsdi02YbYqNmHOiDbuTrbsNuwINin2YTbjCDbsdu4Otuw27BcXG7igKIg2b7Zhtis4oCM2LTZhtio2Yc6INu5Otuw27Ag2KfZhNuMINuy27A627DbsFxcblxcbvCfjq8gKirYs9in2LnYp9iqINmI24zamNmHINmF2KrYrti12LXYp9mGOioqXFxu4oCiINix2YjYstmH2KfbjCDYstmI2Kw6INu4Otuw27Ag2KfZhNuMINu5Otuw27BcXG5cXG7ij7AgKirYsdmI24zYr9in2K/Zh9in24wg2YjbjNqY2Yc6KipcXG7igKIg2LPZhduM2YbYp9ix2YfYpzog27HbsDrbsNuwINmIINux27U627DbsFxcbuKAoiDZhduM2LLar9ix2K/Zh9inOiDbsduzOtuw27BcIixcclxuICAgIFxyXG4gIFwi2qnYr9in2YUg2LTYsdqp2KrigIzZh9inINiv2LEg2YbZhdin24zYtNqv2KfZhyDYrdi22YjYsSDYr9in2LHZhtivINmIINqG2Ycg2YXYrdi12YjZhNin2KrbjCDYp9ix2KfYptmHINmF24zigIzYr9mH2YbYr9ifXCI6XHJcbiAgICBcIvCfj60gKirYtNix2qnYquKAjNmH2KfbjCDYrdin2LbYsToqKlxcblxcbioq2KjYrti0INiq2YjZhNuM2K86KipcXG7igKIg2qnbjNmF24zYpyDYr9in2LHZiCAtINii2YbYqtuM4oCM2KjbjNmI2KrbjNqp4oCM2YfYp1xcbuKAoiDYstmH2LHYp9mI24wgLSDYqtis2YfbjNiy2KfYqiDYrNix2KfYrduMXFxu4oCiINm+2KfYsdizINiv2KfYsdmIIC0g2K/Yp9ix2YjZh9in24wg2YLZhNio24wg2LnYsdmI2YLbjFxcblxcbioq2KjYrti0INmB2YbYp9mI2LHbjDoqKlxcbuKAoiDYp9uM2LHYp9mGINiq2qkg2YHYp9ix2YXYpyAtINiz2KfZhdin2YbZh+KAjNmH2KfbjCDZh9mI2LTZhdmG2K9cXG7igKIg2K/bjNis24wg2YHYp9ix2YXYpyAtINm+2YTYqtmB2LHZhSDYr9uM2KzbjNiq2KfZhFxcblxcbioq2KjYrti0INiq2YjYstuM2Lk6KipcXG7igKIg2K/Yp9ix2YjZvtiu2LQg2LHYp9iy24xcXG7igKIg2LTYqNqp2Ycg2KrZiNiy24zYuSDZvtin2LHYs9uM2KfZhlwiLFxyXG4gICAgXHJcbiAgXCLahtmHINix2YjbjNiv2KfYr9mH2Kcg2Ygg2LPZhduM2YbYp9ix2YfYp9uMINmI24zamNmH4oCM2KfbjCDYr9ixINmG2YXYp9uM2LTar9in2Ycg2KjYsdqv2LLYp9ixINmF24zigIzYtNmI2K/Yn1wiOlxyXG4gICAgXCLwn46TICoq2LHZiNuM2K/Yp9iv2YfYp9uMINmI24zamNmHOioqXFxuXFxuKirYp9mF2LHZiNiyOioqXFxu4oCiINux27A627DbsCAtINiz2YXbjNmG2KfYsSBcXFwi2YbZiNii2YjYsduMINiv2LEg2K/Yp9ix2YjYs9in2LLbjFxcXCJcXG7igKIg27HbszrbsNuwIC0g2YXbjNiy2q/YsdivIFxcXCLYstmG2KzbjNix2Ycg2KrYo9mF24zZhiDZvtin24zYr9in2LFcXFwiXFxu4oCiINux27U627DbsCAtINqp2KfYsdqv2KfZhyBcXFwi2YHZhtin2YjYsduM4oCM2YfYp9uMINmG2YjbjNmGXFxcIlxcblxcbioq2YHYsdiv2Kc6KipcXG7igKIg27k627DbsCAtINmH2YXYp9uM2LQgXFxcItiq2KfYqOKAjNii2YjYsduMINiv2LEg2KjYrdix2KfZhlxcXCJcXG7igKIg27HbsTrbsNuwIC0g2YbYtNiz2KogXFxcItin2LPYqtin2YbYr9in2LHYr9mH2KfbjCDYqNuM2YbigIzYp9mE2YXZhNmE24xcXFwiXFxu4oCiINux27Y627DbsCAtINin2LHYp9im2Ycg2YXYrdi12YjZhNin2Kog2KzYr9uM2K9cXG5cXG7wn5ONICoq2YXaqdin2YY6Kiog2LPYp9mE2YYg2qnZhtmB2LHYp9mG2LMg2LfYqNmC2Ycg2K/ZiNmFXCIsXHJcbiAgICBcclxuICBcItio2LHYp9uMINiv2LHbjNin2YHYqiDYp9i32YTYp9i52KfYqiDYqNuM2LTYqtixINmIINix2KfZh9mG2YXYp9uM24wg2KjYpyDahtmHINqp2LPbjCDYqtmF2KfYsyDYqNqv24zYsdmF2J9cIjpcclxuICAgIFwi8J+TniAqKtin2LfZhNin2LnYp9iqINiq2YXYp9izOioqXFxuXFxuKirZhdix2qnYsiDYp9i32YTYp9i54oCM2LHYs9in2YbbjDoqKlxcbuKAoiDYqtmE2YHZhjog27DbstuxLdu427jbt9u327bbttu127VcXG7igKIg2K/Yp9iu2YTbjDog27HbstuzXFxuXFxuKirZhduM2LIg2LHYp9mH2YbZhdin24zbjDoqKlxcbuKAoiDYt9io2YLZhyDZh9mF2qnZgSAtINmI2LHZiNiv24wg2KfYtdmE24xcXG7igKIg2LPYp9i52Kog2qnYp9ix24w6INu4Otuw27Ag2KfZhNuMINux27k627DbsFxcblxcbioq2b7YtNiq24zYqNin2YbbjCDZgdmG24w6KipcXG7igKIg2YjYp9iq2LPYp9m+OiDbsNu527Hbstux27Lbs9u027Xbttu3XFxu4oCiINin24zZhduM2YQ6IGluZm9AaXJhbnBoYXJtYS1leHBvLmlyXFxuXFxu8J+Xuu+4jyAqKtix2KfZh9mG2YXYp9uMINmG2YXYp9uM2LTar9in2Yc6Kiog2K/YsSDZhduM2LIg2b7YsNuM2LHYtCDZhdmI2KzZiNivINin2LPYqlwiXHJcbn07XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVDaGF0UmVzcG9uc2UodXNlck1lc3NhZ2U6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgLy8gRmlyc3QgdHJ5IEdlbWluaSBBUEkgaWYgQVBJIGtleSBpcyBjb25maWd1cmVkIHByb3Blcmx5XHJcbiAgaWYgKHByb2Nlc3MuZW52LkdFTUlOSV9BUElfS0VZICYmIHByb2Nlc3MuZW52LkdFTUlOSV9BUElfS0VZICE9PSAneW91cl9nZW1pbmlfYXBpX2tleV9oZXJlJykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcHJvbXB0ID0gYCR7SVJBTlBIQVJNQV9TWVNURU1fUFJPTVBUfVxyXG5cclxu2LPYpNin2YQg2qnYp9ix2KjYsTogJHt1c2VyTWVzc2FnZX1cclxuXHJcbtmE2LfZgdin2Ysg2b7Yp9iz2K7bjCDaqdin2YXZhNiMINmF2YHbjNivINmIINio2Ycg2YHYp9ix2LPbjCDYp9ix2KfYptmHINiv2YfbjNivOmA7XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtb2RlbC5nZW5lcmF0ZUNvbnRlbnQocHJvbXB0KTtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXN1bHQucmVzcG9uc2U7XHJcbiAgICAgIGNvbnN0IHRleHQgPSByZXNwb25zZS50ZXh0KCk7XHJcblxyXG4gICAgICByZXR1cm4gdGV4dDtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgcmVzcG9uc2UgZnJvbSBHZW1pbmksIGZhbGxpbmcgYmFjayB0byBzdGF0aWMgcmVzcG9uc2VzOicsIGVycm9yKTtcclxuICAgICAgLy8gRmFsbCB0aHJvdWdoIHRvIGZhbGxiYWNrIHN5c3RlbVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gRmFsbGJhY2sgdG8gc3RhdGljIHJlc3BvbnNlc1xyXG4gIGNvbnN0IGZhbGxiYWNrUmVzcG9uc2UgPSBmYWxsYmFja1Jlc3BvbnNlc1t1c2VyTWVzc2FnZSBhcyBrZXlvZiB0eXBlb2YgZmFsbGJhY2tSZXNwb25zZXNdO1xyXG4gIFxyXG4gIGlmIChmYWxsYmFja1Jlc3BvbnNlKSB7XHJcbiAgICByZXR1cm4gZmFsbGJhY2tSZXNwb25zZTtcclxuICB9XHJcblxyXG4gIC8vIERlZmF1bHQgZmFsbGJhY2tcclxuICByZXR1cm4gJ9mF2KrYo9iz2YHZhdiMINin2LfZhNin2LnYp9iqINqp2KfZhdmE24wg2K/YsSDYp9uM2YYg2LLZhduM2YbZhyDZhtiv2KfYsdmFLiDZhNi32YHYp9mLINio2Kcg2YXbjNiyINix2KfZh9mG2YXYp9uM24wg2K/YsSDZiNix2YjYr9uMINmG2YXYp9uM2LTar9in2Ycg2KrZhdin2LMg2Kjar9uM2LHbjNivINuM2Kcg2KfYsiDZvtix2LPYtOKAjNmH2KfbjCDZvtuM2LTZhtmH2KfYr9uMINin2LPYqtmB2KfYr9mHINqp2YbbjNivLlxcblxcbvCfk54g2KrZhdin2LM6INuw27LbsS3buNu427fbt9u227bbtdu1INiv2KfYrtmE24wg27HbstuzJztcclxufVxyXG4iXSwibmFtZXMiOlsiR29vZ2xlR2VuZXJhdGl2ZUFJIiwicHJvY2VzcyIsImVudiIsIkdFTUlOSV9BUElfS0VZIiwiY29uc29sZSIsIndhcm4iLCJnZW5BSSIsIm1vZGVsIiwiZ2V0R2VuZXJhdGl2ZU1vZGVsIiwiSVJBTlBIQVJNQV9TWVNURU1fUFJPTVBUIiwiZmFsbGJhY2tSZXNwb25zZXMiLCJnZW5lcmF0ZUNoYXRSZXNwb25zZSIsInVzZXJNZXNzYWdlIiwicHJvbXB0IiwicmVzdWx0IiwiZ2VuZXJhdGVDb250ZW50IiwicmVzcG9uc2UiLCJ0ZXh0IiwiZXJyb3IiLCJmYWxsYmFja1Jlc3BvbnNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/services/gemini.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@google"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=C%3A%5CUsers%5CASUS%5CDesktop%5Ciranpharma-nextjs%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CASUS%5CDesktop%5Ciranpharma-nextjs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();