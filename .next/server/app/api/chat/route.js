"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chat/route";
exports.ids = ["app/api/chat/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2FUsers%2Fmaniagah%2FDesktop%2Firanpharma%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmaniagah%2FDesktop%2Firanpharma&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2FUsers%2Fmaniagah%2FDesktop%2Firanpharma%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmaniagah%2FDesktop%2Firanpharma&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_maniagah_Desktop_iranpharma_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/chat/route.ts */ \"(rsc)/./src/app/api/chat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chat/route\",\n        pathname: \"/api/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/chat/route\"\n    },\n    resolvedPagePath: \"/Users/maniagah/Desktop/iranpharma/src/app/api/chat/route.ts\",\n    nextConfigOutput,\n    userland: _Users_maniagah_Desktop_iranpharma_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/chat/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjaGF0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZjaGF0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY2hhdCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRm1hbmlhZ2FoJTJGRGVza3RvcCUyRmlyYW5waGFybWElMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGbWFuaWFnYWglMkZEZXNrdG9wJTJGaXJhbnBoYXJtYSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDWTtBQUN6RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2lyYW5waGFybWEtbmV4dGpzLz8xNjkwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9tYW5pYWdhaC9EZXNrdG9wL2lyYW5waGFybWEvc3JjL2FwcC9hcGkvY2hhdC9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY2hhdC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NoYXRcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2NoYXQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvbWFuaWFnYWgvRGVza3RvcC9pcmFucGhhcm1hL3NyYy9hcHAvYXBpL2NoYXQvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2NoYXQvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2FUsers%2Fmaniagah%2FDesktop%2Firanpharma%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmaniagah%2FDesktop%2Firanpharma&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/chat/route.ts":
/*!***********************************!*\
  !*** ./src/app/api/chat/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_services_gemini__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/services/gemini */ \"(rsc)/./src/lib/services/gemini.ts\");\n/* harmony import */ var _lib_services_chatHistory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/services/chatHistory */ \"(rsc)/./src/lib/services/chatHistory.ts\");\n\n\n\nasync function POST(request) {\n    try {\n        const { message, sessionId } = await request.json();\n        if (!message || typeof message !== \"string\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Message is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Generate unique IDs for messages\n        const userMessageId = `user_${Date.now()}`;\n        const botMessageId = `bot_${Date.now() + 1}`;\n        // Create user message object\n        const userMessage = {\n            id: userMessageId,\n            text: message,\n            isBot: false,\n            timestamp: new Date().toISOString(),\n            sessionId: sessionId || \"anonymous\"\n        };\n        // Save user message to history\n        await (0,_lib_services_chatHistory__WEBPACK_IMPORTED_MODULE_2__.addMessageToHistory)(userMessage);\n        // Generate bot response using Gemini\n        const botResponseText = await (0,_lib_services_gemini__WEBPACK_IMPORTED_MODULE_1__.generateChatResponse)(message);\n        // Create bot message object\n        const botMessage = {\n            id: botMessageId,\n            text: botResponseText,\n            isBot: true,\n            timestamp: new Date().toISOString(),\n            sessionId: sessionId || \"anonymous\"\n        };\n        // Save bot response to history\n        await (0,_lib_services_chatHistory__WEBPACK_IMPORTED_MODULE_2__.addMessageToHistory)(botMessage);\n        // Return the bot response\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            response: botResponseText,\n            messageId: botMessageId,\n            timestamp: botMessage.timestamp\n        });\n    } catch (error) {\n        console.error(\"Error in chat API:\", error);\n        // Return fallback response\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            response: \"متأسفم، در حال حاضر مشکلی در سرور وجود دارد. لطفاً با میز راهنمایی در ورودی نمایشگاه تماس بگیرید یا کمی بعد دوباره تلاش کنید.\",\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// GET endpoint to retrieve chat statistics (optional)\nasync function GET(request) {\n    try {\n        const { getTotalMessageCount } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/services/chatHistory */ \"(rsc)/./src/lib/services/chatHistory.ts\"));\n        const totalMessages = await getTotalMessageCount();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            statistics: {\n                totalMessages,\n                lastUpdated: new Date().toISOString()\n            }\n        });\n    } catch (error) {\n        console.error(\"Error getting chat statistics:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to get statistics\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9jaGF0L3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXdEO0FBQ0s7QUFDc0I7QUFFNUUsZUFBZUcsS0FBS0MsT0FBb0I7SUFDN0MsSUFBSTtRQUNGLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxTQUFTLEVBQUUsR0FBRyxNQUFNRixRQUFRRyxJQUFJO1FBRWpELElBQUksQ0FBQ0YsV0FBVyxPQUFPQSxZQUFZLFVBQVU7WUFDM0MsT0FBT0wscURBQVlBLENBQUNPLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87WUFBc0IsR0FDL0I7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLG1DQUFtQztRQUNuQyxNQUFNQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUVDLEtBQUtDLEdBQUcsR0FBRyxDQUFDO1FBQzFDLE1BQU1DLGVBQWUsQ0FBQyxJQUFJLEVBQUVGLEtBQUtDLEdBQUcsS0FBSyxFQUFFLENBQUM7UUFFNUMsNkJBQTZCO1FBQzdCLE1BQU1FLGNBQTJCO1lBQy9CQyxJQUFJTDtZQUNKTSxNQUFNWDtZQUNOWSxPQUFPO1lBQ1BDLFdBQVcsSUFBSVAsT0FBT1EsV0FBVztZQUNqQ2IsV0FBV0EsYUFBYTtRQUMxQjtRQUVBLCtCQUErQjtRQUMvQixNQUFNSiw4RUFBbUJBLENBQUNZO1FBRTFCLHFDQUFxQztRQUNyQyxNQUFNTSxrQkFBa0IsTUFBTW5CLDBFQUFvQkEsQ0FBQ0k7UUFFbkQsNEJBQTRCO1FBQzVCLE1BQU1nQixhQUEwQjtZQUM5Qk4sSUFBSUY7WUFDSkcsTUFBTUk7WUFDTkgsT0FBTztZQUNQQyxXQUFXLElBQUlQLE9BQU9RLFdBQVc7WUFDakNiLFdBQVdBLGFBQWE7UUFDMUI7UUFFQSwrQkFBK0I7UUFDL0IsTUFBTUosOEVBQW1CQSxDQUFDbUI7UUFFMUIsMEJBQTBCO1FBQzFCLE9BQU9yQixxREFBWUEsQ0FBQ08sSUFBSSxDQUFDO1lBQ3ZCZSxTQUFTO1lBQ1RDLFVBQVVIO1lBQ1ZJLFdBQVdYO1lBQ1hLLFdBQVdHLFdBQVdILFNBQVM7UUFDakM7SUFFRixFQUFFLE9BQU9WLE9BQU87UUFDZGlCLFFBQVFqQixLQUFLLENBQUMsc0JBQXNCQTtRQUVwQywyQkFBMkI7UUFDM0IsT0FBT1IscURBQVlBLENBQUNPLElBQUksQ0FBQztZQUN2QmUsU0FBUztZQUNUQyxVQUFVO1lBQ1ZmLE9BQU87UUFDVCxHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUNuQjtBQUNGO0FBRUEsc0RBQXNEO0FBQy9DLGVBQWVpQixJQUFJdEIsT0FBb0I7SUFDNUMsSUFBSTtRQUNGLE1BQU0sRUFBRXVCLG9CQUFvQixFQUFFLEdBQUcsTUFBTSxpS0FBTztRQUM5QyxNQUFNQyxnQkFBZ0IsTUFBTUQ7UUFFNUIsT0FBTzNCLHFEQUFZQSxDQUFDTyxJQUFJLENBQUM7WUFDdkJlLFNBQVM7WUFDVE8sWUFBWTtnQkFDVkQ7Z0JBQ0FFLGFBQWEsSUFBSW5CLE9BQU9RLFdBQVc7WUFDckM7UUFDRjtJQUNGLEVBQUUsT0FBT1gsT0FBTztRQUNkaUIsUUFBUWpCLEtBQUssQ0FBQyxrQ0FBa0NBO1FBQ2hELE9BQU9SLHFEQUFZQSxDQUFDTyxJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBMkIsR0FDcEM7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pcmFucGhhcm1hLW5leHRqcy8uL3NyYy9hcHAvYXBpL2NoYXQvcm91dGUudHM/NDZiNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgZ2VuZXJhdGVDaGF0UmVzcG9uc2UgfSBmcm9tICdAL2xpYi9zZXJ2aWNlcy9nZW1pbmknO1xuaW1wb3J0IHsgYWRkTWVzc2FnZVRvSGlzdG9yeSwgdHlwZSBDaGF0TWVzc2FnZSB9IGZyb20gJ0AvbGliL3NlcnZpY2VzL2NoYXRIaXN0b3J5JztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IG1lc3NhZ2UsIHNlc3Npb25JZCB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG5cbiAgICBpZiAoIW1lc3NhZ2UgfHwgdHlwZW9mIG1lc3NhZ2UgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdNZXNzYWdlIGlzIHJlcXVpcmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gR2VuZXJhdGUgdW5pcXVlIElEcyBmb3IgbWVzc2FnZXNcbiAgICBjb25zdCB1c2VyTWVzc2FnZUlkID0gYHVzZXJfJHtEYXRlLm5vdygpfWA7XG4gICAgY29uc3QgYm90TWVzc2FnZUlkID0gYGJvdF8ke0RhdGUubm93KCkgKyAxfWA7XG5cbiAgICAvLyBDcmVhdGUgdXNlciBtZXNzYWdlIG9iamVjdFxuICAgIGNvbnN0IHVzZXJNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcbiAgICAgIGlkOiB1c2VyTWVzc2FnZUlkLFxuICAgICAgdGV4dDogbWVzc2FnZSxcbiAgICAgIGlzQm90OiBmYWxzZSxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQgfHwgJ2Fub255bW91cydcbiAgICB9O1xuXG4gICAgLy8gU2F2ZSB1c2VyIG1lc3NhZ2UgdG8gaGlzdG9yeVxuICAgIGF3YWl0IGFkZE1lc3NhZ2VUb0hpc3RvcnkodXNlck1lc3NhZ2UpO1xuXG4gICAgLy8gR2VuZXJhdGUgYm90IHJlc3BvbnNlIHVzaW5nIEdlbWluaVxuICAgIGNvbnN0IGJvdFJlc3BvbnNlVGV4dCA9IGF3YWl0IGdlbmVyYXRlQ2hhdFJlc3BvbnNlKG1lc3NhZ2UpO1xuXG4gICAgLy8gQ3JlYXRlIGJvdCBtZXNzYWdlIG9iamVjdFxuICAgIGNvbnN0IGJvdE1lc3NhZ2U6IENoYXRNZXNzYWdlID0ge1xuICAgICAgaWQ6IGJvdE1lc3NhZ2VJZCxcbiAgICAgIHRleHQ6IGJvdFJlc3BvbnNlVGV4dCxcbiAgICAgIGlzQm90OiB0cnVlLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCB8fCAnYW5vbnltb3VzJ1xuICAgIH07XG5cbiAgICAvLyBTYXZlIGJvdCByZXNwb25zZSB0byBoaXN0b3J5XG4gICAgYXdhaXQgYWRkTWVzc2FnZVRvSGlzdG9yeShib3RNZXNzYWdlKTtcblxuICAgIC8vIFJldHVybiB0aGUgYm90IHJlc3BvbnNlXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICByZXNwb25zZTogYm90UmVzcG9uc2VUZXh0LFxuICAgICAgbWVzc2FnZUlkOiBib3RNZXNzYWdlSWQsXG4gICAgICB0aW1lc3RhbXA6IGJvdE1lc3NhZ2UudGltZXN0YW1wXG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBjaGF0IEFQSTonLCBlcnJvcik7XG4gICAgXG4gICAgLy8gUmV0dXJuIGZhbGxiYWNrIHJlc3BvbnNlXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgcmVzcG9uc2U6ICfZhdiq2KPYs9mB2YXYjCDYr9ixINit2KfZhCDYrdin2LbYsSDZhdi02qnZhNuMINiv2LEg2LPYsdmI2LEg2YjYrNmI2K8g2K/Yp9ix2K8uINmE2LfZgdin2Ysg2KjYpyDZhduM2LIg2LHYp9mH2YbZhdin24zbjCDYr9ixINmI2LHZiNiv24wg2YbZhdin24zYtNqv2KfZhyDYqtmF2KfYsyDYqNqv24zYsduM2K8g24zYpyDaqdmF24wg2KjYudivINiv2YjYqNin2LHZhyDYqtmE2KfYtCDaqdmG24zYry4nLFxuICAgICAgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InXG4gICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuXG4vLyBHRVQgZW5kcG9pbnQgdG8gcmV0cmlldmUgY2hhdCBzdGF0aXN0aWNzIChvcHRpb25hbClcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGdldFRvdGFsTWVzc2FnZUNvdW50IH0gPSBhd2FpdCBpbXBvcnQoJ0AvbGliL3NlcnZpY2VzL2NoYXRIaXN0b3J5Jyk7XG4gICAgY29uc3QgdG90YWxNZXNzYWdlcyA9IGF3YWl0IGdldFRvdGFsTWVzc2FnZUNvdW50KCk7XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBzdGF0aXN0aWNzOiB7XG4gICAgICAgIHRvdGFsTWVzc2FnZXMsXG4gICAgICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGNoYXQgc3RhdGlzdGljczonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBnZXQgc3RhdGlzdGljcycgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJnZW5lcmF0ZUNoYXRSZXNwb25zZSIsImFkZE1lc3NhZ2VUb0hpc3RvcnkiLCJQT1NUIiwicmVxdWVzdCIsIm1lc3NhZ2UiLCJzZXNzaW9uSWQiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJ1c2VyTWVzc2FnZUlkIiwiRGF0ZSIsIm5vdyIsImJvdE1lc3NhZ2VJZCIsInVzZXJNZXNzYWdlIiwiaWQiLCJ0ZXh0IiwiaXNCb3QiLCJ0aW1lc3RhbXAiLCJ0b0lTT1N0cmluZyIsImJvdFJlc3BvbnNlVGV4dCIsImJvdE1lc3NhZ2UiLCJzdWNjZXNzIiwicmVzcG9uc2UiLCJtZXNzYWdlSWQiLCJjb25zb2xlIiwiR0VUIiwiZ2V0VG90YWxNZXNzYWdlQ291bnQiLCJ0b3RhbE1lc3NhZ2VzIiwic3RhdGlzdGljcyIsImxhc3RVcGRhdGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/chat/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/services/chatHistory.ts":
/*!*****************************************!*\
  !*** ./src/lib/services/chatHistory.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addMessageToHistory: () => (/* binding */ addMessageToHistory),\n/* harmony export */   clearChatHistory: () => (/* binding */ clearChatHistory),\n/* harmony export */   getRecentMessages: () => (/* binding */ getRecentMessages),\n/* harmony export */   getTotalMessageCount: () => (/* binding */ getTotalMessageCount),\n/* harmony export */   readChatHistory: () => (/* binding */ readChatHistory),\n/* harmony export */   saveChatHistory: () => (/* binding */ saveChatHistory)\n/* harmony export */ });\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst CHAT_HISTORY_PATH = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\", \"chat-history.json\");\n// Ensure data directory exists\nasync function ensureDataDirectory() {\n    const dataDir = path__WEBPACK_IMPORTED_MODULE_1___default().dirname(CHAT_HISTORY_PATH);\n    try {\n        await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().access(dataDir);\n    } catch  {\n        await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().mkdir(dataDir, {\n            recursive: true\n        });\n    }\n}\n// Read chat history from JSON file\nasync function readChatHistory() {\n    try {\n        await ensureDataDirectory();\n        const data = await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().readFile(CHAT_HISTORY_PATH, \"utf-8\");\n        return JSON.parse(data);\n    } catch (error) {\n        // If file doesn't exist, return default structure\n        const defaultHistory = {\n            conversations: [],\n            lastUpdated: null,\n            totalMessages: 0\n        };\n        await saveChatHistory(defaultHistory);\n        return defaultHistory;\n    }\n}\n// Save chat history to JSON file\nasync function saveChatHistory(history) {\n    try {\n        await ensureDataDirectory();\n        history.lastUpdated = new Date().toISOString();\n        await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().writeFile(CHAT_HISTORY_PATH, JSON.stringify(history, null, 2), \"utf-8\");\n    } catch (error) {\n        console.error(\"Error saving chat history:\", error);\n        throw error;\n    }\n}\n// Add new message to history\nasync function addMessageToHistory(message) {\n    try {\n        const history = await readChatHistory();\n        // Add the new message\n        history.conversations.push(message);\n        history.totalMessages = history.conversations.length;\n        // Keep only last 1000 messages to prevent file from growing too large\n        if (history.conversations.length > 1000) {\n            history.conversations = history.conversations.slice(-1000);\n        }\n        await saveChatHistory(history);\n    } catch (error) {\n        console.error(\"Error adding message to history:\", error);\n        throw error;\n    }\n}\n// Get recent messages for context (last 20 messages)\nasync function getRecentMessages(limit = 20) {\n    try {\n        const history = await readChatHistory();\n        return history.conversations.slice(-limit);\n    } catch (error) {\n        console.error(\"Error getting recent messages:\", error);\n        return [];\n    }\n}\n// Get total message count\nasync function getTotalMessageCount() {\n    try {\n        const history = await readChatHistory();\n        return history.totalMessages;\n    } catch (error) {\n        console.error(\"Error getting message count:\", error);\n        return 0;\n    }\n}\n// Clear chat history (for admin purposes)\nasync function clearChatHistory() {\n    try {\n        const emptyHistory = {\n            conversations: [],\n            lastUpdated: new Date().toISOString(),\n            totalMessages: 0\n        };\n        await saveChatHistory(emptyHistory);\n    } catch (error) {\n        console.error(\"Error clearing chat history:\", error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aWIvc2VydmljZXMvY2hhdEhpc3RvcnkudHM/ZmVhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMvcHJvbWlzZXMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdE1lc3NhZ2Uge1xuICBpZDogc3RyaW5nO1xuICB0ZXh0OiBzdHJpbmc7XG4gIGlzQm90OiBib29sZWFuO1xuICB0aW1lc3RhbXA6IHN0cmluZztcbiAgc2Vzc2lvbklkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENoYXRIaXN0b3J5IHtcbiAgY29udmVyc2F0aW9uczogQ2hhdE1lc3NhZ2VbXTtcbiAgbGFzdFVwZGF0ZWQ6IHN0cmluZyB8IG51bGw7XG4gIHRvdGFsTWVzc2FnZXM6IG51bWJlcjtcbn1cblxuY29uc3QgQ0hBVF9ISVNUT1JZX1BBVEggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2RhdGEnLCAnY2hhdC1oaXN0b3J5Lmpzb24nKTtcblxuLy8gRW5zdXJlIGRhdGEgZGlyZWN0b3J5IGV4aXN0c1xuYXN5bmMgZnVuY3Rpb24gZW5zdXJlRGF0YURpcmVjdG9yeSgpIHtcbiAgY29uc3QgZGF0YURpciA9IHBhdGguZGlybmFtZShDSEFUX0hJU1RPUllfUEFUSCk7XG4gIHRyeSB7XG4gICAgYXdhaXQgZnMuYWNjZXNzKGRhdGFEaXIpO1xuICB9IGNhdGNoIHtcbiAgICBhd2FpdCBmcy5ta2RpcihkYXRhRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgfVxufVxuXG4vLyBSZWFkIGNoYXQgaGlzdG9yeSBmcm9tIEpTT04gZmlsZVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlYWRDaGF0SGlzdG9yeSgpOiBQcm9taXNlPENoYXRIaXN0b3J5PiB7XG4gIHRyeSB7XG4gICAgYXdhaXQgZW5zdXJlRGF0YURpcmVjdG9yeSgpO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmcy5yZWFkRmlsZShDSEFUX0hJU1RPUllfUEFUSCwgJ3V0Zi04Jyk7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gSWYgZmlsZSBkb2Vzbid0IGV4aXN0LCByZXR1cm4gZGVmYXVsdCBzdHJ1Y3R1cmVcbiAgICBjb25zdCBkZWZhdWx0SGlzdG9yeTogQ2hhdEhpc3RvcnkgPSB7XG4gICAgICBjb252ZXJzYXRpb25zOiBbXSxcbiAgICAgIGxhc3RVcGRhdGVkOiBudWxsLFxuICAgICAgdG90YWxNZXNzYWdlczogMFxuICAgIH07XG4gICAgYXdhaXQgc2F2ZUNoYXRIaXN0b3J5KGRlZmF1bHRIaXN0b3J5KTtcbiAgICByZXR1cm4gZGVmYXVsdEhpc3Rvcnk7XG4gIH1cbn1cblxuLy8gU2F2ZSBjaGF0IGhpc3RvcnkgdG8gSlNPTiBmaWxlXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZUNoYXRIaXN0b3J5KGhpc3Rvcnk6IENoYXRIaXN0b3J5KTogUHJvbWlzZTx2b2lkPiB7XG4gIHRyeSB7XG4gICAgYXdhaXQgZW5zdXJlRGF0YURpcmVjdG9yeSgpO1xuICAgIGhpc3RvcnkubGFzdFVwZGF0ZWQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgYXdhaXQgZnMud3JpdGVGaWxlKENIQVRfSElTVE9SWV9QQVRILCBKU09OLnN0cmluZ2lmeShoaXN0b3J5LCBudWxsLCAyKSwgJ3V0Zi04Jyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGNoYXQgaGlzdG9yeTonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuLy8gQWRkIG5ldyBtZXNzYWdlIHRvIGhpc3RvcnlcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRNZXNzYWdlVG9IaXN0b3J5KG1lc3NhZ2U6IENoYXRNZXNzYWdlKTogUHJvbWlzZTx2b2lkPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgaGlzdG9yeSA9IGF3YWl0IHJlYWRDaGF0SGlzdG9yeSgpO1xuICAgIFxuICAgIC8vIEFkZCB0aGUgbmV3IG1lc3NhZ2VcbiAgICBoaXN0b3J5LmNvbnZlcnNhdGlvbnMucHVzaChtZXNzYWdlKTtcbiAgICBoaXN0b3J5LnRvdGFsTWVzc2FnZXMgPSBoaXN0b3J5LmNvbnZlcnNhdGlvbnMubGVuZ3RoO1xuICAgIFxuICAgIC8vIEtlZXAgb25seSBsYXN0IDEwMDAgbWVzc2FnZXMgdG8gcHJldmVudCBmaWxlIGZyb20gZ3Jvd2luZyB0b28gbGFyZ2VcbiAgICBpZiAoaGlzdG9yeS5jb252ZXJzYXRpb25zLmxlbmd0aCA+IDEwMDApIHtcbiAgICAgIGhpc3RvcnkuY29udmVyc2F0aW9ucyA9IGhpc3RvcnkuY29udmVyc2F0aW9ucy5zbGljZSgtMTAwMCk7XG4gICAgfVxuICAgIFxuICAgIGF3YWl0IHNhdmVDaGF0SGlzdG9yeShoaXN0b3J5KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgbWVzc2FnZSB0byBoaXN0b3J5OicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyBHZXQgcmVjZW50IG1lc3NhZ2VzIGZvciBjb250ZXh0IChsYXN0IDIwIG1lc3NhZ2VzKVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlY2VudE1lc3NhZ2VzKGxpbWl0OiBudW1iZXIgPSAyMCk6IFByb21pc2U8Q2hhdE1lc3NhZ2VbXT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGhpc3RvcnkgPSBhd2FpdCByZWFkQ2hhdEhpc3RvcnkoKTtcbiAgICByZXR1cm4gaGlzdG9yeS5jb252ZXJzYXRpb25zLnNsaWNlKC1saW1pdCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyByZWNlbnQgbWVzc2FnZXM6JywgZXJyb3IpO1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG4vLyBHZXQgdG90YWwgbWVzc2FnZSBjb3VudFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFRvdGFsTWVzc2FnZUNvdW50KCk6IFByb21pc2U8bnVtYmVyPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgaGlzdG9yeSA9IGF3YWl0IHJlYWRDaGF0SGlzdG9yeSgpO1xuICAgIHJldHVybiBoaXN0b3J5LnRvdGFsTWVzc2FnZXM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBtZXNzYWdlIGNvdW50OicsIGVycm9yKTtcbiAgICByZXR1cm4gMDtcbiAgfVxufVxuXG4vLyBDbGVhciBjaGF0IGhpc3RvcnkgKGZvciBhZG1pbiBwdXJwb3NlcylcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbGVhckNoYXRIaXN0b3J5KCk6IFByb21pc2U8dm9pZD4ge1xuICB0cnkge1xuICAgIGNvbnN0IGVtcHR5SGlzdG9yeTogQ2hhdEhpc3RvcnkgPSB7XG4gICAgICBjb252ZXJzYXRpb25zOiBbXSxcbiAgICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB0b3RhbE1lc3NhZ2VzOiAwXG4gICAgfTtcbiAgICBhd2FpdCBzYXZlQ2hhdEhpc3RvcnkoZW1wdHlIaXN0b3J5KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjbGVhcmluZyBjaGF0IGhpc3Rvcnk6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG4iXSwibmFtZXMiOlsiZnMiLCJwYXRoIiwiQ0hBVF9ISVNUT1JZX1BBVEgiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsImVuc3VyZURhdGFEaXJlY3RvcnkiLCJkYXRhRGlyIiwiZGlybmFtZSIsImFjY2VzcyIsIm1rZGlyIiwicmVjdXJzaXZlIiwicmVhZENoYXRIaXN0b3J5IiwiZGF0YSIsInJlYWRGaWxlIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJkZWZhdWx0SGlzdG9yeSIsImNvbnZlcnNhdGlvbnMiLCJsYXN0VXBkYXRlZCIsInRvdGFsTWVzc2FnZXMiLCJzYXZlQ2hhdEhpc3RvcnkiLCJoaXN0b3J5IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwid3JpdGVGaWxlIiwic3RyaW5naWZ5IiwiY29uc29sZSIsImFkZE1lc3NhZ2VUb0hpc3RvcnkiLCJtZXNzYWdlIiwicHVzaCIsImxlbmd0aCIsInNsaWNlIiwiZ2V0UmVjZW50TWVzc2FnZXMiLCJsaW1pdCIsImdldFRvdGFsTWVzc2FnZUNvdW50IiwiY2xlYXJDaGF0SGlzdG9yeSIsImVtcHR5SGlzdG9yeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/services/chatHistory.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/services/gemini.ts":
/*!************************************!*\
  !*** ./src/lib/services/gemini.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateChatResponse: () => (/* binding */ generateChatResponse)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n\n// Allow running without API key - will use fallback responses\nif (!process.env.GEMINI_API_KEY) {\n    console.warn(\"GEMINI_API_KEY is not set - using fallback responses\");\n}\nconst genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(process.env.GEMINI_API_KEY);\n// Gemini Pro model (globally supported)\nconst model = genAI.getGenerativeModel({\n    model: \"gemini-2.5-flash\"\n});\nconst IRANPHARMA_SYSTEM_PROMPT = `\nشما دستیار هوشمند نمایشگاه ایران فارما هستید. نمایشگاهی با موضوع \"پایداری، تاب‌آوری و نوآوری در زنجیره تأمین دارو\".\n\nاطلاعات نمایشگاه:\n\n**غرفه‌های موجود:**\n- شرکت داروسازی اکتوور (غرفه A1): داروهای بیوتکنولوژی، تولید انسولین و واکسن\n- گروه داروسازی سبحان (غرفه B2): مکمل‌های غذایی، تحقیق و توسعه  \n- داروپخش ایران (غرفه C3): توزیع و لجستیک دارو، زنجیره سرد\n- فارمد تجهیزات (غرفه D4): تجهیزات پزشکی، دستگاه‌های تشخیصی\n\n**ساعات کاری:**\n- شنبه تا چهارشنبه: ۹:۰۰ الی ۱۸:۰۰\n- پنج‌شنبه: ۹:۰۰ الی ۲۰:۰۰\n- ساعات ویژه متخصصان: ۸:۰۰ الی ۹:۰۰ (روزهای زوج)\n\n**رویدادهای ویژه:**\n- سمینارها: ۱۰:۰۰ و ۱۵:۰۰\n- میزگردها: ۱۳:۰۰\n- سالن کنفرانس: طبقه دوم\n\n**شرکت‌های حاضر:**\nبخش تولید: کیمیا دارو، زهراوی، پارس دارو\nبخش فناوری: ایران تک فارما، دیجی فارما  \nبخش توزیع: داروپخش رازی، شبکه توزیع پارسیان\n\n**اطلاعات تماس:**\n- تلفن: ۰۲۱-۸۸۷۷۶۶۵۵ (داخلی ۱۲۳)\n- میز راهنمایی: طبقه همکف - ورودی اصلی\n- ساعت کاری میز راهنمایی: ۸:۰۰ الی ۱۹:۰۰\n- واتساپ: ۰۹۱۲۱۲۳۴۵۶۷\n- ایمیل: info@iranpharma-expo.ir\n\nدستورالعمل‌ها:\n- همیشه به فارسی پاسخ دهید\n- مهربان و مفید باشید\n- اطلاعات دقیق و کاربردی ارائه دهید\n- از ایموجی استفاده کنید\n- اگر سؤال خارج از حوزه نمایشگاه بود، کاربر را به میز راهنمایی هدایت کنید\n`;\n// Fallback responses for when Gemini API is not available\nconst fallbackResponses = {\n    \"لیست غرفه‌های موجود در نمایشگاه را با اطلاعات کامل به من نشان دهید.\": \"غرفه‌های موجود در نمایشگاه:\\n\\n\\uD83C\\uDFE2 **شرکت داروسازی اکتوور** - غرفه A1\\n• محصولات: داروهای بیوتکنولوژی\\n• تخصص: تولید انسولین و واکسن\\n\\n\\uD83C\\uDFE2 **گروه داروسازی سبحان** - غرفه B2\\n• محصولات: مکمل‌های غذایی\\n• تخصص: تحقیق و توسعه\\n\\n\\uD83C\\uDFE2 **داروپخش ایران** - غرفه C3\\n• خدمات: توزیع و لجستیک دارو\\n• تخصص: زنجیره سرد\\n\\n\\uD83C\\uDFE2 **فارمد تجهیزات** - غرفه D4\\n• محصولات: تجهیزات پزشکی\\n• تخصص: دستگاه‌های تشخیصی\",\n    \"ساعات کاری و زمان‌بندی نمایشگاه چگونه است؟\": \"\\uD83D\\uDCC5 **برنامه زمانی نمایشگاه:**\\n\\n\\uD83D\\uDD58 **ساعات بازدید عمومی:**\\n• شنبه تا چهارشنبه: ۹:۰۰ الی ۱۸:۰۰\\n• پنج‌شنبه: ۹:۰۰ الی ۲۰:۰۰\\n\\n\\uD83C\\uDFAF **ساعات ویژه متخصصان:**\\n• روزهای زوج: ۸:۰۰ الی ۹:۰۰\\n\\n⏰ **رویدادهای ویژه:**\\n• سمینارها: ۱۰:۰۰ و ۱۵:۰۰\\n• میزگردها: ۱۳:۰۰\",\n    \"کدام شرکت‌ها در نمایشگاه حضور دارند و چه محصولاتی ارائه می‌دهند؟\": \"\\uD83C\\uDFED **شرکت‌های حاضر:**\\n\\n**بخش تولید:**\\n• کیمیا دارو - آنتی‌بیوتیک‌ها\\n• زهراوی - تجهیزات جراحی\\n• پارس دارو - داروهای قلبی عروقی\\n\\n**بخش فناوری:**\\n• ایران تک فارما - سامانه‌های هوشمند\\n• دیجی فارما - پلتفرم دیجیتال\\n\\n**بخش توزیع:**\\n• داروپخش رازی\\n• شبکه توزیع پارسیان\",\n    \"چه رویدادها و سمینارهای ویژه‌ای در نمایشگاه برگزار می‌شود؟\": '\\uD83C\\uDF93 **رویدادهای ویژه:**\\n\\n**امروز:**\\n• ۱۰:۰۰ - سمینار \"نوآوری در داروسازی\"\\n• ۱۳:۰۰ - میزگرد \"زنجیره تأمین پایدار\"\\n• ۱۵:۰۰ - کارگاه \"فناوری‌های نوین\"\\n\\n**فردا:**\\n• ۹:۰۰ - همایش \"تاب‌آوری در بحران\"\\n• ۱۱:۰۰ - نشست \"استانداردهای بین‌المللی\"\\n• ۱۶:۰۰ - ارائه محصولات جدید\\n\\n\\uD83D\\uDCCD **مکان:** سالن کنفرانس طبقه دوم',\n    \"برای دریافت اطلاعات بیشتر و راهنمایی با چه کسی تماس بگیرم؟\": \"\\uD83D\\uDCDE **اطلاعات تماس:**\\n\\n**مرکز اطلاع‌رسانی:**\\n• تلفن: ۰۲۱-۸۸۷۷۶۶۵۵\\n• داخلی: ۱۲۳\\n\\n**میز راهنمایی:**\\n• طبقه همکف - ورودی اصلی\\n• ساعت کاری: ۸:۰۰ الی ۱۹:۰۰\\n\\n**پشتیبانی فنی:**\\n• واتساپ: ۰۹۱۲۱۲۳۴۵۶۷\\n• ایمیل: info@iranpharma-expo.ir\\n\\n\\uD83D\\uDDFA️ **راهنمای نمایشگاه:** در میز پذیرش موجود است\"\n};\nasync function generateChatResponse(userMessage) {\n    // First try Gemini API if API key is configured properly\n    if (process.env.GEMINI_API_KEY && process.env.GEMINI_API_KEY !== \"your_gemini_api_key_here\") {\n        try {\n            const prompt = `${IRANPHARMA_SYSTEM_PROMPT}\n\nسؤال کاربر: ${userMessage}\n\nلطفاً پاسخی کامل، مفید و به فارسی ارائه دهید:`;\n            const result = await model.generateContent(prompt);\n            const response = await result.response;\n            const text = response.text();\n            return text;\n        } catch (error) {\n            console.error(\"Error generating response from Gemini, falling back to static responses:\", error);\n        // Fall through to fallback system\n        }\n    }\n    // Fallback to static responses\n    const fallbackResponse = fallbackResponses[userMessage];\n    if (fallbackResponse) {\n        return fallbackResponse;\n    }\n    // Default fallback\n    return \"متأسفم، اطلاعات کاملی در این زمینه ندارم. لطفاً با میز راهنمایی در ورودی نمایشگاه تماس بگیرید یا از پرسش‌های پیشنهادی استفاده کنید.\\n\\n\\uD83D\\uDCDE تماس: ۰۲۱-۸۸۷۷۶۶۵۵ داخلی ۱۲۳\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3NlcnZpY2VzL2dlbWluaS50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUEyRDtBQUUzRCw4REFBOEQ7QUFDOUQsSUFBSSxDQUFDQyxRQUFRQyxHQUFHLENBQUNDLGNBQWMsRUFBRTtJQUMvQkMsUUFBUUMsSUFBSSxDQUFDO0FBQ2Y7QUFFQSxNQUFNQyxRQUFRLElBQUlOLHFFQUFrQkEsQ0FBQ0MsUUFBUUMsR0FBRyxDQUFDQyxjQUFjO0FBRS9ELHdDQUF3QztBQUN4QyxNQUFNSSxRQUFRRCxNQUFNRSxrQkFBa0IsQ0FBQztJQUFFRCxPQUFPO0FBQWtCO0FBQ2xFLE1BQU1FLDJCQUEyQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF1Q2xDLENBQUM7QUFFRCwwREFBMEQ7QUFDMUQsTUFBTUMsb0JBQW9CO0lBQ3hCLHVFQUNFO0lBRUYsOENBQ0U7SUFFRixvRUFDRTtJQUVGLDhEQUNFO0lBRUYsOERBQ0U7QUFDSjtBQUVPLGVBQWVDLHFCQUFxQkMsV0FBbUI7SUFDNUQseURBQXlEO0lBQ3pELElBQUlYLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYyxJQUFJRixRQUFRQyxHQUFHLENBQUNDLGNBQWMsS0FBSyw0QkFBNEI7UUFDM0YsSUFBSTtZQUNGLE1BQU1VLFNBQVMsQ0FBQyxFQUFFSix5QkFBeUI7O1lBRXJDLEVBQUVHLFlBQVk7OzZDQUVtQixDQUFDO1lBRXhDLE1BQU1FLFNBQVMsTUFBTVAsTUFBTVEsZUFBZSxDQUFDRjtZQUMzQyxNQUFNRyxXQUFXLE1BQU1GLE9BQU9FLFFBQVE7WUFDdEMsTUFBTUMsT0FBT0QsU0FBU0MsSUFBSTtZQUUxQixPQUFPQTtRQUNULEVBQUUsT0FBT0MsT0FBTztZQUNkZCxRQUFRYyxLQUFLLENBQUMsNEVBQTRFQTtRQUMxRixrQ0FBa0M7UUFDcEM7SUFDRjtJQUVBLCtCQUErQjtJQUMvQixNQUFNQyxtQkFBbUJULGlCQUFpQixDQUFDRSxZQUE4QztJQUV6RixJQUFJTyxrQkFBa0I7UUFDcEIsT0FBT0E7SUFDVDtJQUVBLG1CQUFtQjtJQUNuQixPQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pcmFucGhhcm1hLW5leHRqcy8uL3NyYy9saWIvc2VydmljZXMvZ2VtaW5pLnRzPzFjNGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR29vZ2xlR2VuZXJhdGl2ZUFJIH0gZnJvbSAnQGdvb2dsZS9nZW5lcmF0aXZlLWFpJztcblxuLy8gQWxsb3cgcnVubmluZyB3aXRob3V0IEFQSSBrZXkgLSB3aWxsIHVzZSBmYWxsYmFjayByZXNwb25zZXNcbmlmICghcHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVkpIHtcbiAgY29uc29sZS53YXJuKCdHRU1JTklfQVBJX0tFWSBpcyBub3Qgc2V0IC0gdXNpbmcgZmFsbGJhY2sgcmVzcG9uc2VzJyk7XG59XG5cbmNvbnN0IGdlbkFJID0gbmV3IEdvb2dsZUdlbmVyYXRpdmVBSShwcm9jZXNzLmVudi5HRU1JTklfQVBJX0tFWSk7XG5cbi8vIEdlbWluaSBQcm8gbW9kZWwgKGdsb2JhbGx5IHN1cHBvcnRlZClcbmNvbnN0IG1vZGVsID0gZ2VuQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHsgbW9kZWw6IFwiZ2VtaW5pLTIuNS1mbGFzaFwifSlcbmNvbnN0IElSQU5QSEFSTUFfU1lTVEVNX1BST01QVCA9IGBcbti02YXYpyDYr9iz2KrbjNin2LEg2YfZiNi02YXZhtivINmG2YXYp9uM2LTar9in2Ycg2KfbjNix2KfZhiDZgdin2LHZhdinINmH2LPYqtuM2K8uINmG2YXYp9uM2LTar9in2YfbjCDYqNinINmF2YjYttmI2LkgXCLZvtin24zYr9in2LHbjNiMINiq2KfYqOKAjNii2YjYsduMINmIINmG2YjYotmI2LHbjCDYr9ixINiy2YbYrNuM2LHZhyDYqtij2YXbjNmGINiv2KfYsdmIXCIuXG5cbtin2LfZhNin2LnYp9iqINmG2YXYp9uM2LTar9in2Yc6XG5cbioq2LrYsdmB2YfigIzZh9in24wg2YXZiNis2YjYrzoqKlxuLSDYtNix2qnYqiDYr9in2LHZiNiz2KfYstuMINin2qnYqtmI2YjYsSAo2LrYsdmB2YcgQTEpOiDYr9in2LHZiNmH2KfbjCDYqNuM2YjYqtqp2YbZiNmE2YjamNuM2Iwg2KrZiNmE24zYryDYp9mG2LPZiNmE24zZhiDZiCDZiNin2qnYs9mGXG4tINqv2LHZiNmHINiv2KfYsdmI2LPYp9iy24wg2LPYqNit2KfZhiAo2LrYsdmB2YcgQjIpOiDZhdqp2YXZhOKAjNmH2KfbjCDYutiw2KfbjNuM2Iwg2KrYrdmC24zZgiDZiCDYqtmI2LPYudmHICBcbi0g2K/Yp9ix2YjZvtiu2LQg2KfbjNix2KfZhiAo2LrYsdmB2YcgQzMpOiDYqtmI2LLbjNi5INmIINmE2KzYs9iq24zaqSDYr9in2LHZiNiMINiy2YbYrNuM2LHZhyDYs9ix2K9cbi0g2YHYp9ix2YXYryDYqtis2YfbjNiy2KfYqiAo2LrYsdmB2YcgRDQpOiDYqtis2YfbjNiy2KfYqiDZvtiy2LTaqduM2Iwg2K/Ys9iq2q/Yp9mH4oCM2YfYp9uMINiq2LTYrtuM2LXbjFxuXG4qKtiz2KfYudin2Kog2qnYp9ix24w6Kipcbi0g2LTZhtio2Ycg2KrYpyDahtmH2KfYsdi02YbYqNmHOiDbuTrbsNuwINin2YTbjCDbsdu4Otuw27Bcbi0g2b7Zhtis4oCM2LTZhtio2Yc6INu5Otuw27Ag2KfZhNuMINuy27A627DbsFxuLSDYs9in2LnYp9iqINmI24zamNmHINmF2KrYrti12LXYp9mGOiDbuDrbsNuwINin2YTbjCDbuTrbsNuwICjYsdmI2LLZh9in24wg2LLZiNisKVxuXG4qKtix2YjbjNiv2KfYr9mH2KfbjCDZiNuM2pjZhzoqKlxuLSDYs9mF24zZhtin2LHZh9inOiDbsduwOtuw27Ag2Ygg27HbtTrbsNuwXG4tINmF24zYstqv2LHYr9mH2Kc6INux27M627DbsFxuLSDYs9in2YTZhiDaqdmG2YHYsdin2YbYszog2LfYqNmC2Ycg2K/ZiNmFXG5cbioq2LTYsdqp2KrigIzZh9in24wg2K3Yp9i22LE6Kipcbtio2K7YtCDYqtmI2YTbjNivOiDaqduM2YXbjNinINiv2KfYsdmI2Iwg2LLZh9ix2KfZiNuM2Iwg2b7Yp9ix2LMg2K/Yp9ix2Yhcbtio2K7YtCDZgdmG2KfZiNix24w6INin24zYsdin2YYg2KraqSDZgdin2LHZhdin2Iwg2K/bjNis24wg2YHYp9ix2YXYpyAgXG7YqNiu2LQg2KrZiNiy24zYuTog2K/Yp9ix2YjZvtiu2LQg2LHYp9iy24zYjCDYtNio2qnZhyDYqtmI2LLbjNi5INm+2KfYsdiz24zYp9mGXG5cbioq2KfYt9mE2KfYudin2Kog2KrZhdin2LM6Kipcbi0g2KrZhNmB2YY6INuw27LbsS3buNu427fbt9u227bbtdu1ICjYr9in2K7ZhNuMINux27Lbsylcbi0g2YXbjNiyINix2KfZh9mG2YXYp9uM24w6INi32KjZgtmHINmH2YXaqdmBIC0g2YjYsdmI2K/bjCDYp9i12YTbjFxuLSDYs9in2LnYqiDaqdin2LHbjCDZhduM2LIg2LHYp9mH2YbZhdin24zbjDog27g627DbsCDYp9mE24wg27HbuTrbsNuwXG4tINmI2KfYqtiz2KfZvjog27Dbudux27Lbsduy27PbtNu127bbt1xuLSDYp9uM2YXbjNmEOiBpbmZvQGlyYW5waGFybWEtZXhwby5pclxuXG7Yr9iz2KrZiNix2KfZhNi52YXZhOKAjNmH2Kc6XG4tINmH2YXbjNi02Ycg2KjZhyDZgdin2LHYs9uMINm+2KfYs9iuINiv2YfbjNivXG4tINmF2YfYsdio2KfZhiDZiCDZhdmB24zYryDYqNin2LTbjNivXG4tINin2LfZhNin2LnYp9iqINiv2YLbjNmCINmIINqp2KfYsdio2LHYr9uMINin2LHYp9im2Ycg2K/Zh9uM2K9cbi0g2KfYsiDYp9uM2YXZiNis24wg2KfYs9iq2YHYp9iv2Ycg2qnZhtuM2K9cbi0g2Kfar9ixINiz2KTYp9mEINiu2KfYsdisINin2LIg2K3ZiNiy2Ycg2YbZhdin24zYtNqv2KfZhyDYqNmI2K/YjCDaqdin2LHYqNixINix2Kcg2KjZhyDZhduM2LIg2LHYp9mH2YbZhdin24zbjCDZh9iv2KfbjNiqINqp2YbbjNivXG5gO1xuXG4vLyBGYWxsYmFjayByZXNwb25zZXMgZm9yIHdoZW4gR2VtaW5pIEFQSSBpcyBub3QgYXZhaWxhYmxlXG5jb25zdCBmYWxsYmFja1Jlc3BvbnNlcyA9IHtcbiAgXCLZhNuM2LPYqiDYutix2YHZh+KAjNmH2KfbjCDZhdmI2KzZiNivINiv2LEg2YbZhdin24zYtNqv2KfZhyDYsdinINio2Kcg2KfYt9mE2KfYudin2Kog2qnYp9mF2YQg2KjZhyDZhdmGINmG2LTYp9mGINiv2YfbjNivLlwiOiBcbiAgICBcIti62LHZgdmH4oCM2YfYp9uMINmF2YjYrNmI2K8g2K/YsSDZhtmF2KfbjNi02q/Yp9mHOlxcblxcbvCfj6IgKirYtNix2qnYqiDYr9in2LHZiNiz2KfYstuMINin2qnYqtmI2YjYsSoqIC0g2LrYsdmB2YcgQTFcXG7igKIg2YXYrdi12YjZhNin2Ko6INiv2KfYsdmI2YfYp9uMINio24zZiNiq2qnZhtmI2YTZiNqY24xcXG7igKIg2KrYrti12LU6INiq2YjZhNuM2K8g2KfZhtiz2YjZhNuM2YYg2Ygg2YjYp9qp2LPZhlxcblxcbvCfj6IgKirar9ix2YjZhyDYr9in2LHZiNiz2KfYstuMINiz2KjYrdin2YYqKiAtINi62LHZgdmHIEIyXFxu4oCiINmF2K3YtdmI2YTYp9iqOiDZhdqp2YXZhOKAjNmH2KfbjCDYutiw2KfbjNuMXFxu4oCiINiq2K7Ytdi1OiDYqtit2YLbjNmCINmIINiq2YjYs9i52YdcXG5cXG7wn4+iICoq2K/Yp9ix2YjZvtiu2LQg2KfbjNix2KfZhioqIC0g2LrYsdmB2YcgQzNcXG7igKIg2K7Yr9mF2KfYqjog2KrZiNiy24zYuSDZiCDZhNis2LPYqtuM2qkg2K/Yp9ix2YhcXG7igKIg2KrYrti12LU6INiy2YbYrNuM2LHZhyDYs9ix2K9cXG5cXG7wn4+iICoq2YHYp9ix2YXYryDYqtis2YfbjNiy2KfYqioqIC0g2LrYsdmB2YcgRDRcXG7igKIg2YXYrdi12YjZhNin2Ko6INiq2KzZh9uM2LLYp9iqINm+2LLYtNqp24xcXG7igKIg2KrYrti12LU6INiv2LPYqtqv2KfZh+KAjNmH2KfbjCDYqti02K7bjNi124xcIixcbiAgICBcbiAgXCLYs9in2LnYp9iqINqp2KfYsduMINmIINiy2YXYp9mG4oCM2KjZhtiv24wg2YbZhdin24zYtNqv2KfZhyDahtqv2YjZhtmHINin2LPYqtifXCI6XG4gICAgXCLwn5OFICoq2KjYsdmG2KfZhdmHINiy2YXYp9mG24wg2YbZhdin24zYtNqv2KfZhzoqKlxcblxcbvCflZggKirYs9in2LnYp9iqINio2KfYstiv24zYryDYudmF2YjZhduMOioqXFxu4oCiINi02YbYqNmHINiq2Kcg2obZh9in2LHYtNmG2KjZhzog27k627DbsCDYp9mE24wg27HbuDrbsNuwXFxu4oCiINm+2YbYrOKAjNi02YbYqNmHOiDbuTrbsNuwINin2YTbjCDbstuwOtuw27BcXG5cXG7wn46vICoq2LPYp9i52KfYqiDZiNuM2pjZhyDZhdiq2K7Ytdi12KfZhjoqKlxcbuKAoiDYsdmI2LLZh9in24wg2LLZiNisOiDbuDrbsNuwINin2YTbjCDbuTrbsNuwXFxuXFxu4o+wICoq2LHZiNuM2K/Yp9iv2YfYp9uMINmI24zamNmHOioqXFxu4oCiINiz2YXbjNmG2KfYsdmH2Kc6INux27A627DbsCDZiCDbsdu1Otuw27BcXG7igKIg2YXbjNiy2q/Ysdiv2YfYpzog27HbszrbsNuwXCIsXG4gICAgXG4gIFwi2qnYr9in2YUg2LTYsdqp2KrigIzZh9inINiv2LEg2YbZhdin24zYtNqv2KfZhyDYrdi22YjYsSDYr9in2LHZhtivINmIINqG2Ycg2YXYrdi12YjZhNin2KrbjCDYp9ix2KfYptmHINmF24zigIzYr9mH2YbYr9ifXCI6XG4gICAgXCLwn4+tICoq2LTYsdqp2KrigIzZh9in24wg2K3Yp9i22LE6KipcXG5cXG4qKtio2K7YtCDYqtmI2YTbjNivOioqXFxu4oCiINqp24zZhduM2Kcg2K/Yp9ix2YggLSDYotmG2KrbjOKAjNio24zZiNiq24zaqeKAjNmH2KdcXG7igKIg2LLZh9ix2KfZiNuMIC0g2KrYrNmH24zYstin2Kog2KzYsdin2K3bjFxcbuKAoiDZvtin2LHYsyDYr9in2LHZiCAtINiv2KfYsdmI2YfYp9uMINmC2YTYqNuMINi52LHZiNmC24xcXG5cXG4qKtio2K7YtCDZgdmG2KfZiNix24w6KipcXG7igKIg2KfbjNix2KfZhiDYqtqpINmB2KfYsdmF2KcgLSDYs9in2YXYp9mG2YfigIzZh9in24wg2YfZiNi02YXZhtivXFxu4oCiINiv24zYrNuMINmB2KfYsdmF2KcgLSDZvtmE2KrZgdix2YUg2K/bjNis24zYqtin2YRcXG5cXG4qKtio2K7YtCDYqtmI2LLbjNi5OioqXFxu4oCiINiv2KfYsdmI2b7Yrti0INix2KfYstuMXFxu4oCiINi02KjaqdmHINiq2YjYstuM2Lkg2b7Yp9ix2LPbjNin2YZcIixcbiAgICBcbiAgXCLahtmHINix2YjbjNiv2KfYr9mH2Kcg2Ygg2LPZhduM2YbYp9ix2YfYp9uMINmI24zamNmH4oCM2KfbjCDYr9ixINmG2YXYp9uM2LTar9in2Ycg2KjYsdqv2LLYp9ixINmF24zigIzYtNmI2K/Yn1wiOlxuICAgIFwi8J+OkyAqKtix2YjbjNiv2KfYr9mH2KfbjCDZiNuM2pjZhzoqKlxcblxcbioq2KfZhdix2YjYsjoqKlxcbuKAoiDbsduwOtuw27AgLSDYs9mF24zZhtin2LEgXFxcItmG2YjYotmI2LHbjCDYr9ixINiv2KfYsdmI2LPYp9iy24xcXFwiXFxu4oCiINux27M627DbsCAtINmF24zYstqv2LHYryBcXFwi2LLZhtis24zYsdmHINiq2KPZhduM2YYg2b7Yp9uM2K/Yp9ixXFxcIlxcbuKAoiDbsdu1Otuw27AgLSDaqdin2LHar9in2YcgXFxcItmB2YbYp9mI2LHbjOKAjNmH2KfbjCDZhtmI24zZhlxcXCJcXG5cXG4qKtmB2LHYr9inOioqXFxu4oCiINu5Otuw27AgLSDZh9mF2KfbjNi0IFxcXCLYqtin2KjigIzYotmI2LHbjCDYr9ixINio2K3Ysdin2YZcXFwiXFxu4oCiINux27E627DbsCAtINmG2LTYs9iqIFxcXCLYp9iz2KrYp9mG2K/Yp9ix2K/Zh9in24wg2KjbjNmG4oCM2KfZhNmF2YTZhNuMXFxcIlxcbuKAoiDbsdu2Otuw27AgLSDYp9ix2KfYptmHINmF2K3YtdmI2YTYp9iqINis2K/bjNivXFxuXFxu8J+TjSAqKtmF2qnYp9mGOioqINiz2KfZhNmGINqp2YbZgdix2KfZhtizINi32KjZgtmHINiv2YjZhVwiLFxuICAgIFxuICBcItio2LHYp9uMINiv2LHbjNin2YHYqiDYp9i32YTYp9i52KfYqiDYqNuM2LTYqtixINmIINix2KfZh9mG2YXYp9uM24wg2KjYpyDahtmHINqp2LPbjCDYqtmF2KfYsyDYqNqv24zYsdmF2J9cIjpcbiAgICBcIvCfk54gKirYp9i32YTYp9i52KfYqiDYqtmF2KfYszoqKlxcblxcbioq2YXYsdqp2LIg2KfYt9mE2KfYueKAjNix2LPYp9mG24w6KipcXG7igKIg2KrZhNmB2YY6INuw27LbsS3buNu427fbt9u227bbtdu1XFxu4oCiINiv2KfYrtmE24w6INux27Lbs1xcblxcbioq2YXbjNiyINix2KfZh9mG2YXYp9uM24w6KipcXG7igKIg2LfYqNmC2Ycg2YfZhdqp2YEgLSDZiNix2YjYr9uMINin2LXZhNuMXFxu4oCiINiz2KfYudiqINqp2KfYsduMOiDbuDrbsNuwINin2YTbjCDbsdu5Otuw27BcXG5cXG4qKtm+2LTYqtuM2KjYp9mG24wg2YHZhtuMOioqXFxu4oCiINmI2KfYqtiz2KfZvjog27Dbudux27Lbsduy27PbtNu127bbt1xcbuKAoiDYp9uM2YXbjNmEOiBpbmZvQGlyYW5waGFybWEtZXhwby5pclxcblxcbvCfl7rvuI8gKirYsdin2YfZhtmF2KfbjCDZhtmF2KfbjNi02q/Yp9mHOioqINiv2LEg2YXbjNiyINm+2LDbjNix2LQg2YXZiNis2YjYryDYp9iz2KpcIlxufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlQ2hhdFJlc3BvbnNlKHVzZXJNZXNzYWdlOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAvLyBGaXJzdCB0cnkgR2VtaW5pIEFQSSBpZiBBUEkga2V5IGlzIGNvbmZpZ3VyZWQgcHJvcGVybHlcbiAgaWYgKHByb2Nlc3MuZW52LkdFTUlOSV9BUElfS0VZICYmIHByb2Nlc3MuZW52LkdFTUlOSV9BUElfS0VZICE9PSAneW91cl9nZW1pbmlfYXBpX2tleV9oZXJlJykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwcm9tcHQgPSBgJHtJUkFOUEhBUk1BX1NZU1RFTV9QUk9NUFR9XG5cbtiz2KTYp9mEINqp2KfYsdio2LE6ICR7dXNlck1lc3NhZ2V9XG5cbtmE2LfZgdin2Ysg2b7Yp9iz2K7bjCDaqdin2YXZhNiMINmF2YHbjNivINmIINio2Ycg2YHYp9ix2LPbjCDYp9ix2KfYptmHINiv2YfbjNivOmA7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1vZGVsLmdlbmVyYXRlQ29udGVudChwcm9tcHQpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXN1bHQucmVzcG9uc2U7XG4gICAgICBjb25zdCB0ZXh0ID0gcmVzcG9uc2UudGV4dCgpO1xuXG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2VuZXJhdGluZyByZXNwb25zZSBmcm9tIEdlbWluaSwgZmFsbGluZyBiYWNrIHRvIHN0YXRpYyByZXNwb25zZXM6JywgZXJyb3IpO1xuICAgICAgLy8gRmFsbCB0aHJvdWdoIHRvIGZhbGxiYWNrIHN5c3RlbVxuICAgIH1cbiAgfVxuXG4gIC8vIEZhbGxiYWNrIHRvIHN0YXRpYyByZXNwb25zZXNcbiAgY29uc3QgZmFsbGJhY2tSZXNwb25zZSA9IGZhbGxiYWNrUmVzcG9uc2VzW3VzZXJNZXNzYWdlIGFzIGtleW9mIHR5cGVvZiBmYWxsYmFja1Jlc3BvbnNlc107XG4gIFxuICBpZiAoZmFsbGJhY2tSZXNwb25zZSkge1xuICAgIHJldHVybiBmYWxsYmFja1Jlc3BvbnNlO1xuICB9XG5cbiAgLy8gRGVmYXVsdCBmYWxsYmFja1xuICByZXR1cm4gJ9mF2KrYo9iz2YHZhdiMINin2LfZhNin2LnYp9iqINqp2KfZhdmE24wg2K/YsSDYp9uM2YYg2LLZhduM2YbZhyDZhtiv2KfYsdmFLiDZhNi32YHYp9mLINio2Kcg2YXbjNiyINix2KfZh9mG2YXYp9uM24wg2K/YsSDZiNix2YjYr9uMINmG2YXYp9uM2LTar9in2Ycg2KrZhdin2LMg2Kjar9uM2LHbjNivINuM2Kcg2KfYsiDZvtix2LPYtOKAjNmH2KfbjCDZvtuM2LTZhtmH2KfYr9uMINin2LPYqtmB2KfYr9mHINqp2YbbjNivLlxcblxcbvCfk54g2KrZhdin2LM6INuw27LbsS3buNu427fbt9u227bbtdu1INiv2KfYrtmE24wg27HbstuzJztcbn1cbiJdLCJuYW1lcyI6WyJHb29nbGVHZW5lcmF0aXZlQUkiLCJwcm9jZXNzIiwiZW52IiwiR0VNSU5JX0FQSV9LRVkiLCJjb25zb2xlIiwid2FybiIsImdlbkFJIiwibW9kZWwiLCJnZXRHZW5lcmF0aXZlTW9kZWwiLCJJUkFOUEhBUk1BX1NZU1RFTV9QUk9NUFQiLCJmYWxsYmFja1Jlc3BvbnNlcyIsImdlbmVyYXRlQ2hhdFJlc3BvbnNlIiwidXNlck1lc3NhZ2UiLCJwcm9tcHQiLCJyZXN1bHQiLCJnZW5lcmF0ZUNvbnRlbnQiLCJyZXNwb25zZSIsInRleHQiLCJlcnJvciIsImZhbGxiYWNrUmVzcG9uc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/services/gemini.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@google"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2FUsers%2Fmaniagah%2FDesktop%2Firanpharma%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmaniagah%2FDesktop%2Firanpharma&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();